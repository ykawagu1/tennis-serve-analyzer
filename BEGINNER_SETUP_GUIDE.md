# 🎾 テニスサービス解析システム - 初心者向けセットアップガイド

このガイドでは、プログラミング初心者の方でも確実にシステムを動かせるよう、1から詳しく説明します。

## 📋 必要なもの

### 1. パソコンの要件
- **OS**: Windows 10/11、macOS、またはLinux
- **メモリ**: 8GB以上推奨（最低4GB）
- **ストレージ**: 5GB以上の空き容量
- **インターネット接続**: 必須

### 2. 準備するファイル
- **テニス動画**: MOV、MP4、AVI形式（30秒以下、100MB以下推奨）
- 人物が全身映っているサービス動作の動画

## 🛠️ ステップ1: 必要なソフトウェアのインストール

### Python のインストール

#### Windows の場合
1. [Python公式サイト](https://www.python.org/downloads/) にアクセス
2. 「Download Python 3.11.x」ボタンをクリック
3. ダウンロードしたファイルを実行
4. **重要**: 「Add Python to PATH」にチェックを入れる
5. 「Install Now」をクリック

#### Mac の場合
1. [Python公式サイト](https://www.python.org/downloads/) にアクセス
2. 「Download Python 3.11.x」ボタンをクリック
3. ダウンロードしたpkgファイルを実行してインストール

#### インストール確認
コマンドプロンプト（Windows）またはターミナル（Mac）を開いて以下を実行：
```bash
python3 --version
```
「Python 3.11.x」のような表示が出ればOK

### Node.js のインストール

#### Windows・Mac 共通
1. [Node.js公式サイト](https://nodejs.org/) にアクセス
2. 「LTS」版（推奨版）をダウンロード
3. ダウンロードしたファイルを実行してインストール

#### インストール確認
```bash
node --version
```
「v20.x.x」のような表示が出ればOK

## 📁 ステップ2: プロジェクトファイルの準備

### 方法1: ファイルをダウンロード（推奨）
1. 提供されたプロジェクトファイルをダウンロード
2. 適当な場所（例：デスクトップ）に「tennis-serve-analyzer」フォルダを作成
3. ダウンロードしたファイルをすべてこのフォルダに配置

### 方法2: 手動でファイル作成
上記で提供されたファイル（README.md、setup.sh等）を手動で作成

## 🚀 ステップ3: 自動セットアップの実行

### Windows の場合

#### 3-1. コマンドプロンプトを開く
1. Windowsキー + R を押す
2. 「cmd」と入力してEnter

#### 3-2. プロジェクトフォルダに移動
```bash
cd Desktop\tennis-serve-analyzer
```
（デスクトップに配置した場合）

#### 3-3. 必要なライブラリをインストール
```bash
pip install mediapipe opencv-python flask flask-cors openai python-dotenv requests
```

### Mac の場合

#### 3-1. ターミナルを開く
1. Spotlight検索（Cmd + Space）で「ターミナル」と検索
2. ターミナルアプリを開く

#### 3-2. プロジェクトフォルダに移動
```bash
cd Desktop/tennis-serve-analyzer
```

#### 3-3. 必要なライブラリをインストール
```bash
pip3 install mediapipe opencv-python flask flask-cors openai python-dotenv requests
```

## 🌐 ステップ4: フロントエンドの準備

### プロジェクトフォルダ内で実行
```bash
cd frontend
npm install
```

これで必要なファイルがダウンロードされます（数分かかる場合があります）。

## ▶️ ステップ5: システムの起動

### 5-1. バックエンドサーバーの起動

#### 新しいコマンドプロンプト/ターミナルを開いて：
```bash
cd Desktop/tennis-serve-analyzer/backend/app
python3 main.py
```

以下のような表示が出れば成功：
```
テニスサービス動作解析APIサーバーを起動中...
* Running on http://127.0.0.1:5000
```

### 5-2. フロントエンドサーバーの起動

#### さらに新しいコマンドプロンプト/ターミナルを開いて：
```bash
cd Desktop/tennis-serve-analyzer/frontend
npm run dev
```

以下のような表示が出れば成功：
```
Local:   http://localhost:5173/
```

## 🎯 ステップ6: システムの使用

### 6-1. ブラウザでアクセス
1. ブラウザ（Chrome、Firefox、Safari等）を開く
2. アドレスバーに `http://localhost:5173` と入力
3. テニスサービス解析システムの画面が表示される

### 6-2. 動画をアップロード
1. 「ファイルを選択またはドラッグ&ドロップ」をクリック
2. テニスサービス動画を選択
3. 「アップロード開始」ボタンをクリック

### 6-3. 解析実行
1. アップロード完了後、「解析開始」ボタンをクリック
2. 解析完了まで待機（数分かかります）

### 6-4. 結果確認
1. 「技術分析」タブで各要素のスコアを確認
2. 「フェーズ分析」タブでサービス動作の詳細を確認
3. 「アドバイス」タブで改善点を確認（OpenAI APIキー設定時のみ）

## 🔧 トラブルシューティング

### よくある問題と解決方法

#### 1. 「python3 は認識されません」エラー（Windows）
**解決方法**: 
- `python3` の代わりに `python` を使用
- Pythonを再インストールし、「Add to PATH」にチェック

#### 2. 「npm は認識されません」エラー
**解決方法**: 
- Node.jsを再インストール
- コマンドプロンプト/ターミナルを再起動

#### 3. ポートが使用中エラー
**解決方法**: 
- 他のアプリケーションを終了
- パソコンを再起動

#### 4. 動画アップロードが失敗する
**解決方法**: 
- ファイルサイズを100MB以下に
- 対応形式（MOV、MP4、AVI）に変換

#### 5. 解析が進まない
**解決方法**: 
- 人物が全身映っている動画を使用
- 解像度の高い動画を使用

## 💡 アドバイス機能を使用する場合（オプション）

### OpenAI APIキーの取得と設定
1. [OpenAI公式サイト](https://openai.com/) でアカウント作成
2. APIキーを取得（有料）
3. 以下のファイルを作成：

#### Windows の場合
`backend/app/.env` ファイルを作成し、以下を記述：
```
OPENAI_API_KEY=your-api-key-here
```

#### Mac の場合
ターミナルで以下を実行：
```bash
echo "OPENAI_API_KEY=your-api-key-here" > backend/app/.env
```

## 📞 サポート

### 困ったときは
1. エラーメッセージをコピー
2. どの手順で問題が発生したかメモ
3. 使用しているOS（Windows/Mac）を確認
4. スクリーンショットを撮影

### 確認事項
- [ ] Python 3.11以上がインストールされている
- [ ] Node.js 20以上がインストールされている
- [ ] 必要なライブラリがインストールされている
- [ ] 両方のサーバーが起動している
- [ ] ブラウザで正しいURLにアクセスしている

## 🎉 成功の確認

以下が全て確認できれば成功です：
- [ ] ブラウザでシステム画面が表示される
- [ ] 動画ファイルがアップロードできる
- [ ] 解析が実行される
- [ ] 結果画面が表示される
- [ ] スコアと分析結果が確認できる

---

**このガイドで分からないことがあれば、遠慮なくお聞きください！**

