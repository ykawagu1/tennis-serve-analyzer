{
  "total_score": 7.9136131054249015,
  "frame_count": 129,
  "phase_analysis": {
    "準備フェーズ": {
      "score": 7.0
    },
    "トスフェーズ": {
      "score": 6.5
    },
    "バックスイングフェーズ": {
      "score": 7.5
    },
    "インパクトフェーズ": {
      "score": 8.0
    },
    "フォロースルーフェーズ": {
      "score": 7.2
    }
  },
  "advice": {
    "summary": "フォームに改善の余地があります。基礎から見直しましょう。",
    "improvements": [],
    "drills": [],
    "enhanced": true,
    "detailed_advice": "## 1. 🏆 総合技術評価\n現在のフォームはアマチュア上級者レベルと比べて著しく未熟です。特にトスの安定性や身体の連動性に課題があり、技術的な基礎が確立されていません。トッププレーヤーは安定したトスと効率的なエネルギー伝達を備えているため、基礎の徹底と動作の一貫性向上が必要です。\n\n## 2. 🔬 バイオメカニクス分析\n### 主要改善点\n**トスの高さと位置**：現在はトスが低すぎるか高すぎる傾向があり、平均約20cm偏差。理想は肩の高さ（身長差により調整）で、前方12-15cm、やや右側（プレーヤーの利き手側）に配置。安定したトスは頭の位置を固定し、一定の高さと位置を保つ練習が必要です。\n\n**肘の角度と位置**：現状は肘が過度に伸びているか、動きが不安定。理想は腕の角度が約90度で、肘が耳のラインに近く、前方にやや出ている状態。これによりコントロール性と安定性が向上します。\n\n**体幹の捻りと回転**：現状は体幹の回旋が不足し、腕だけでトスを上げている傾向。理想は肩と腰を約45度回転させ、体幹を安定させながらスムーズに捻ること。これによりトスの一貫性と安定性が向上します。\n\n**手首の使い方**：過度に手首を使ってしまい、トスがブレやすい。理想は手首を固定し、腕と肩の動きでトスを作ること。手首は伸展・屈曲を最小限に抑えることが重要です。\n\n**フォロースルーと体の軌道**：トス後の動きが不安定で、軌道が散漫。理想は頭上から前方に向けて一直線の動きで、体全体を使った安定したフォロースルーを意識しましょう。\n\n## 3. 🏅 世界トップ選手比較\nフェデラーはトスの高さと位置の安定性に優れ、肩の高さを基準に前後左右の位置を一定に保つ技術を持つ。ジョコビッチは体幹の回旋と連動した滑らかな動きで、トスの一貫性を高めている。ナダルはパワーと安定性を兼ね備え、下半身を使った動きでトスを支える。到達目標は、これらの選手の動作の一貫性と安定性を模倣し、トスの精度を向上させること。\n\n## 4. 🎯 8週間改善プログラム\n### 第1-2週：基礎修正期\nトスの基本的な高さと位置の感覚を養うため、姿勢と手の動きに集中。壁打ちや静止した状態でのトス練習を中心に行い、安定性の基礎を築く。\n\n### 第3-4週：技術統合期\n体幹と腕の連動性を高めるために、回旋動作やリズム練習を取り入れる。トスの動作を連続して行いながら、安定性と精度を高める。\n\n### 第5-6週：実戦応用期\nコート上での動作とタイミングを合わせ、実戦を想定した練習を行う。トスの位置と高さを安定させつつ、スピードとパワーを調整。\n\n### 第7-8週：完成期\nフォームの微調整と試合での反応を強化。ビデオ分析やコーチのフィードバックを活用し、最終的な動作の洗練を図る。\n\n## 5. 🏋️ 専門フィジカル強化プログラム\n### A. 下半身パワー強化（週3回）\n• スクワット（バーベル60kg）: 10回×3セット  \n• プライオメトリクス（ボックスジャンプ）: 8回×3セット  \n\n### B. 体幹安定化（週4回）\n• プランク（45秒）: 3セット  \n• ロータリー・ウッドチョップ（軽重量で左右各12回）: 3セット  \n\n### C. 上半身連動性（週2回）\n• 肩甲骨エクササイズ（リトラクション）: 15回×3セット  \n• ローテーターカフ（軽重量）: 10回×3セット\n\n## 6. 🧠 メンタル・戦術強化\n### A. 集中力向上\n毎朝ルーティンの確立（深呼吸→ストレッチ→イメージトレーニング）、試合前の呼吸法（4-7-8呼吸法）を習慣化し、集中を持続させる。\n\n### B. 実戦確認システム\n• [ ] 膝角度: 155-165度をキープ  \n• [ ] 肘高さ: 肩より+8-12cm高い位置  \n• [ ] トス位置: 前方12-15cm、右側5-8cm  \n• [ ] 体重移動: 0.3-0.4秒で完了  \n• [ ] フォロースルー: 体を横切る軌道\n\n## 7. 💡 あなたへのワンポイントアドバイス\nトスの安定性を向上させるためには、まずトスの位置と高さを一定に保つことが最優先です。トスが不安定な原因は、腕や体幹のコントロール不足、視線のブレ、そして身体の動きの不連動にあります。まずは静止した状態で壁やコートのラインに向かってトスを上げ、位置と高さを固定する練習を徹底してください。次に、体幹の安定性を高めるための体幹トレーニングと、連動性を高めるための回旋動作を取り入れましょう。トスを上げる際は視線を常に一定に保ち、頭の位置を動かさないことを意識してください。動作の一貫性を養うために、鏡や動画を活用した自己観察も効果的です。練習中はトスの高さ・位置・タイミングを毎回確認し、安定した動作を身につけることが最終目標です。トスの安定はサーブの精度と威力に直結するため、根気よく反復練習を続けてください。",
    "user_concerns": "トスが安定しません"
  },
  "user_concerns": "トスが安定しません",
  "preprocessing": {
    "success": true,
    "duration": 0,
    "fps": 30
  },
  "pose_detection": {
    "success": true,
    "detected_frames": 89,
    "confidence_avg": 0.0
  },
  "technical_analysis": {
    "knee_movement": {
      "max_bend_angle": 1.8238935456603993,
      "max_bend_frame": 22,
      "timing_score": 8.0,
      "depth_score": 9.0,
      "overall_score": 8.5,
      "issues": [
        "膝の曲げが早すぎます",
        "膝の曲げが深すぎます"
      ],
      "recommendations": [
        "膝の曲げを少し浅くして、バランスを保ちましょう",
        "トスと同時に膝を曲げ始めるタイミングを練習しましょう"
      ]
    },
    "elbow_position": {
      "average_height": 0.5,
      "shoulder_relative_position": 0,
      "height_score": 10.0,
      "stability_score": 8.0,
      "overall_score": 9.0,
      "issues": [
        "肘の動きが不安定です"
      ],
      "recommendations": [
        "肘の軌道を安定させるため、ゆっくりとした練習から始めましょう"
      ]
    },
    "toss_trajectory": {
      "max_height": 0.9300273507833481,
      "forward_distance": 0.020734041929244995,
      "consistency_score": 0.1763357265098826,
      "height_score": 9.0,
      "distance_score": 8.0,
      "overall_score": 6.254452421699608,
      "issues": [
        "トスが高すぎます",
        "トスの前方への投げが不足しています",
        "トスの軌道が不安定です"
      ],
      "recommendations": [
        "トスの高さを少し抑えて、コントロールを向上させましょう",
        "トスをもう少し前方に投げて、効果的な打点を作りましょう"
      ]
    },
    "body_rotation": {
      "max_shoulder_rotation": 179.61159139236943,
      "max_hip_rotation": 179.70533776053387,
      "shoulder_score": 9.0,
      "hip_score": 9.0,
      "overall_score": 9.0,
      "issues": [
        "肩の回転が過度です",
        "腰の回転が過度です"
      ],
      "recommendations": [
        "肩の回転を少し抑えて、コントロールを向上させましょう"
      ]
    },
    "timing": {
      "total_duration": 4.3,
      "phase_scores": {
        "preparation": 6.0,
        "ball_toss": 10.0,
        "trophy_position": 4.0,
        "acceleration": 8.0,
        "contact": 10.0,
        "follow_through": 4.0
      },
      "overall_score": 7.0,
      "issues": [
        "trophy_positionフェーズが短すぎます",
        "follow_throughフェーズが長すぎます"
      ],
      "recommendations": [
        "各フェーズのタイミングを意識して、リズムの良いサーブを心がけましょう",
        "メトロノームを使った練習で、一定のリズムを身につけましょう"
      ]
    }
  },
  "serve_phases": {
    "preparation": {
      "start_frame": 0,
      "end_frame": 37,
      "duration": 1.2333333333333334,
      "key_events": [
        "stance_setup",
        "initial_position"
      ]
    },
    "ball_toss": {
      "start_frame": 37,
      "end_frame": 62,
      "duration": 0.8333333333333334,
      "key_events": [
        "toss_initiation",
        "ball_release"
      ]
    },
    "trophy_position": {
      "start_frame": 62,
      "end_frame": 49,
      "duration": -0.43333333333333335,
      "key_events": [
        "trophy_formation",
        "weight_transfer"
      ]
    },
    "acceleration": {
      "start_frame": 49,
      "end_frame": 61,
      "duration": 0.4,
      "key_events": [
        "racket_acceleration",
        "kinetic_chain"
      ]
    },
    "contact": {
      "start_frame": 61,
      "end_frame": 64,
      "duration": 0.1,
      "key_events": [
        "ball_contact",
        "maximum_reach"
      ]
    },
    "follow_through": {
      "start_frame": 64,
      "end_frame": 128,
      "duration": 2.1333333333333333,
      "key_events": [
        "deceleration",
        "landing"
      ]
    }
  }
}