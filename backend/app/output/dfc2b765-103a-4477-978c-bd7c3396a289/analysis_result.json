{
  "total_score": 7.900450212921595,
  "frame_count": 641,
  "phase_analysis": {
    "準備フェーズ": {
      "score": 7.0
    },
    "トスフェーズ": {
      "score": 6.5
    },
    "バックスイングフェーズ": {
      "score": 7.5
    },
    "インパクトフェーズ": {
      "score": 8.0
    },
    "フォロースルーフェーズ": {
      "score": 7.2
    }
  },
  "advice": {
    "summary": "フォームに改善の余地があります。基礎から見直しましょう。",
    "improvements": [],
    "drills": [],
    "enhanced": true,
    "detailed_advice": "## 1. 🏆 総合技術評価\nアマチュア上級者と比較して、基本的な動作の安定性と一貫性に大きな差があります。特に体の回転とトスの一貫性、フォロースルーの軌道に課題があり、パワーとコントロールの両面で不足しています。年齢と体力的変化も考慮し、段階的にフォームを整える必要があります。\n\n## 2. 🔬 バイオメカニクス分析\n\n### 主要改善点（上位５つ）\n\n**スタンスの広さ**  \n現在：狭すぎる傾向があり、重心が安定しません。理想は肩幅よりやや広め（約1.2倍）で、安定した踏み込みと回転を促進します。改善：足幅を調整し、バランスとパワー伝達を最適化。  \n\n**肘の位置・高さ**  \n現在：肘が低すぎてパワー伝達やコントロールに不安定。理想は肘を肩の高さかやや高め（約10cm）に保ち、スムーズな動作を促進。改善：腕の使い方を見直し、リラックスさせつつ高い位置をキープ。  \n\n**膝の曲げ角度**  \n現在：膝の屈曲が浅く、踏み込みや体重移動が遅れる。理想は膝を約150度に深く曲げ、爆発的な推進力を発揮。改善：膝の屈曲と踏み込みのタイミングを練習し、エネルギーの効率化を図る。  \n\n**手首の使い方**  \n現在：手首の過剰な動きや硬直が見られる。理想はリラックスした状態で、トスとスイングのタイミングに合わせて自然に動かすこと。改善：手首の動きを最小限に抑え、安定したスイング軌道を意識。  \n\n**フォロースルーの姿勢**  \n現在：早期に止まる傾向があり、パワーとコントロールが不十分。理想は体を横に回転させながらフォロースルーを完了させ、安定した球質を確保。改善：スイング後の体の流れを意識し、継続的な動作を習慣化。\n\n## 3. 🏅 世界トップ選手比較\nフェデラーは洗練されたスムーズな動作と高い安定性、ジョコビッチは精密なコントロールと体重移動の巧みさ、ナダルは爆発的なパワーと脚力による踏み込みが特徴です。到達目標は、彼らの技術を参考にしつつ、自分の体力・年齢に合わせて動きの効率化と安定性を追求し、無理のない範囲でパワーとコントロールを両立させることです。\n\n## 4. 🎯 8週間改善プログラム\n\n**第1-2週: 基礎修正期**  \nフォームの基本動作とトスの正確性に焦点を当て、スタンスと肘の高さ、膝の屈曲を調整。鏡やビデオを使って自己確認を行い、リラックスした動作を習慣づける。\n\n**第3-4週: 技術統合期**  \n踏み込みと体重移動を連動させ、フォロースルーまでの動きの連続性を練習。軽い負荷のラリー練習を取り入れ、動作の一貫性を高める。\n\n**第5-6週: 実戦応用期**  \nポイント練習やゲーム形式で実戦的な動作を磨き、安定性とパワーを向上させる。特にトスの再現性に注意を払う。\n\n**第7-8週: 完成期**  \nこれまでの改善点を総合してスピードアップとコントロールを意識し、プレッシャー下でのサーブ練習を増やす。自己評価とコーチからのフィードバックを重ねる。\n\n## 5. 🏋️ 専門フィジカル強化プログラム\n\n### A. 下半身パワー強化（週3回）  \n• スクワット：重量50kg×10回×3セット（基礎）、70kg×8回×3セット（負荷増）  \n• プライオメトリクス：ボックスジャンプ 30cm×10回×3セット、スキップジャンプ 20回×3セット  \n\n### B. 体幹安定化（週4回）  \n• プランク：60秒×3セット  \n• ローテーション系：ツイストクランチ 20回×3セット、ロシアンツイスト 20回×3セット  \n\n### C. 上半身連動性（週2回）  \n• 肩甲骨可動域：スキャプラプル×15回×3セット  \n• ローテーターカフ：軽負荷バンド使用の外旋運動 15回×3セット\n\n## 6. 🧠 メンタル・戦術強化\n\n### A. 集中力向上  \nルーティン：サーブ前に深呼吸→目線の固定→リラックスした呼吸を行い、集中度を高める。呼吸法：4秒吸って4秒止めて、ゆっくり吐く。\n\n### B. 実戦確認システム  \n• [ ] 膝角度: 155-165度をキープ  \n• [ ] 肘高さ: 肩より+8-12cm高い位置  \n• [ ] トス位置: 前方12-15cm、右側5-8cm  \n• [ ] 体重移動: 0.3-0.4秒で完了  \n• [ ] フォロースルー: 体を横切る軌道\n\n## 7. 💡 あなたへのワンポイントアドバイス\n59歳男性の体格（180cm、88kg）と年齢を踏まえ、サーブの安定性向上には身体の「効率的動作」と「疲労抑制」が不可欠です。まず、トスの位置と高さを一定に保つことが最重要です。トスが不安定だと、スイングの軌道が乱れやすくなり、結果的に安定したサーブが難しくなります。トスを安定させるためには、腕の動きと肩のリラックス、そして呼吸とリズムを整えることが効果的です。トスの練習は、軽いボールを使い、鏡やビデオで動作を確認しながら、毎日10分程度行います。次に、身体の疲労を抑えるためにストレッチと軽い筋トレを併用し、筋力と柔軟性を高めることも重要です。特に、肩と背中の柔軟性を向上させることで、腕の振りと体の捻りをスムーズにし、安定した高パワーサーブを可能にします。最後に、年齢に伴う筋肉の萎縮や関節の硬化を防ぐため、定期的な整体や柔軟体操を取り入れ、身体のコンディションを整えることが成功への鍵です。\n\n---",
    "user_concerns": "サーブが安定しません。年齢は５９才の男性です。身長は１８０ｃｍ、体重は８８キロです"
  },
  "user_concerns": "サーブが安定しません。年齢は５９才の男性です。身長は１８０ｃｍ、体重は８８キロです",
  "preprocessing": {
    "success": true,
    "duration": 0,
    "fps": 30
  },
  "pose_detection": {
    "success": true,
    "detected_frames": 437,
    "confidence_avg": 0.0
  },
  "technical_analysis": {
    "knee_movement": {
      "max_bend_angle": 0.37012717737876305,
      "max_bend_frame": 274,
      "timing_score": 8.0,
      "depth_score": 9.0,
      "overall_score": 8.5,
      "issues": [
        "膝の曲げが早すぎます",
        "膝の曲げが深すぎます"
      ],
      "recommendations": [
        "膝の曲げを少し浅くして、バランスを保ちましょう",
        "トスと同時に膝を曲げ始めるタイミングを練習しましょう"
      ]
    },
    "elbow_position": {
      "average_height": 0.5,
      "shoulder_relative_position": 0,
      "height_score": 10.0,
      "stability_score": 8.0,
      "overall_score": 9.0,
      "issues": [
        "肘の動きが不安定です"
      ],
      "recommendations": [
        "肘の軌道を安定させるため、ゆっくりとした練習から始めましょう"
      ]
    },
    "toss_trajectory": {
      "max_height": 1.0549293532967567,
      "forward_distance": 0.06525325775146484,
      "consistency_score": 0.26054025550591486,
      "height_score": 9.0,
      "distance_score": 10.0,
      "overall_score": 7.201800851686383,
      "issues": [
        "トスが高すぎます",
        "トスの軌道が不安定です"
      ],
      "recommendations": [
        "トスの高さを少し抑えて、コントロールを向上させましょう"
      ]
    },
    "body_rotation": {
      "max_shoulder_rotation": 179.96566860313624,
      "max_hip_rotation": 179.92746447183015,
      "shoulder_score": 9.0,
      "hip_score": 9.0,
      "overall_score": 9.0,
      "issues": [
        "肩の回転が過度です",
        "腰の回転が過度です"
      ],
      "recommendations": [
        "肩の回転を少し抑えて、コントロールを向上させましょう"
      ]
    },
    "timing": {
      "total_duration": 21.366666666666667,
      "phase_scores": {
        "preparation": 4.0,
        "ball_toss": 4.0,
        "trophy_position": 4.0,
        "acceleration": 6.0,
        "contact": 10.0,
        "follow_through": 4.0
      },
      "overall_score": 5.333333333333333,
      "issues": [
        "preparationフェーズが長すぎます",
        "ball_tossフェーズが短すぎます",
        "trophy_positionフェーズが短すぎます",
        "follow_throughフェーズが長すぎます"
      ],
      "recommendations": [
        "各フェーズのタイミングを意識して、リズムの良いサーブを心がけましょう",
        "メトロノームを使った練習で、一定のリズムを身につけましょう"
      ]
    }
  },
  "serve_phases": {
    "preparation": {
      "start_frame": 0,
      "end_frame": 409,
      "duration": 13.633333333333333,
      "key_events": [
        "stance_setup",
        "initial_position"
      ]
    },
    "ball_toss": {
      "start_frame": 409,
      "end_frame": 434,
      "duration": 0.8333333333333334,
      "key_events": [
        "toss_initiation",
        "ball_release"
      ]
    },
    "trophy_position": {
      "start_frame": 434,
      "end_frame": 108,
      "duration": -10.866666666666667,
      "key_events": [
        "trophy_formation",
        "weight_transfer"
      ]
    },
    "acceleration": {
      "start_frame": 108,
      "end_frame": 120,
      "duration": 0.4,
      "key_events": [
        "racket_acceleration",
        "kinetic_chain"
      ]
    },
    "contact": {
      "start_frame": 120,
      "end_frame": 123,
      "duration": 0.1,
      "key_events": [
        "ball_contact",
        "maximum_reach"
      ]
    },
    "follow_through": {
      "start_frame": 123,
      "end_frame": 640,
      "duration": 17.233333333333334,
      "key_events": [
        "deceleration",
        "landing"
      ]
    }
  }
}