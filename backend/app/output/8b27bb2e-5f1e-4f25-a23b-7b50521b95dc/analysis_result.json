{
  "total_score": 7.887712922700212,
  "frame_count": 641,
  "phase_analysis": {
    "準備フェーズ": {
      "score": 7.0
    },
    "トスフェーズ": {
      "score": 6.5
    },
    "バックスイングフェーズ": {
      "score": 7.5
    },
    "インパクトフェーズ": {
      "score": 8.0
    },
    "フォロースルーフェーズ": {
      "score": 7.2
    }
  },
  "advice": {
    "summary": "フォームに改善の余地があります。基礎から見直しましょう。",
    "improvements": [],
    "drills": [],
    "enhanced": true,
    "detailed_advice": "【テニスサービス動作解析結果に基づく詳細アドバイス】\n\n---\n\n## 1. 🏆 総合技術評価\nあなたのサービスは、基本動作の一部に改善の余地があり、アマチュア上級者と比べると安定性やコントロールに課題があります。特にフォームの一貫性や動作のタイミング調整が必要で、トップレベル選手の洗練された動きには遠い状況です。安定性向上には基礎固めと動作の再構築が不可欠です。\n\n---\n\n## 2. 🔬 バイオメカニクス分析\n\n### 主要改善点（上位５つ）\n\n**スタンスの広さ**  \n現状：足幅が広すぎてバランス崩れやすく、動きが乱れる。  \n理想値：肩幅またはやや狭めのスタンス（約15cm以内の差）で、安定した基盤を確保。  \n改善法：足をやや狭めて構え直し、重心を低く保ちながら動きやすさを追求。練習では足の位置を一定に保つ意識を。\n\n**肘の位置・高さ**  \n現状：肘が低すぎてスイングのパワーと安定性に欠ける。  \n理想値：肘はやや高め（肩よりも5cm程度上）、肘の角度は約90度をキープ。  \n改善法：リラックスしながら肘の高さを意識し、サービス前に肘の位置を確認するルーティンを取り入れる。\n\n**膝の曲げ角度**  \n現状：膝の屈伸が浅く、安定した踏み込みとジャンプ動作ができていない。  \n理想値：膝は約150度前後に曲げ、踏み込みとジャンプの推進力を最大化。  \n改善法：踏み込み前に膝を意識的に曲げ、動作中は一定の角度を保つ練習を重ねる。\n\n**手首の使い方**  \n現状：手首の過剰な動きで安定性が損なわれている。  \n理想値：手首は固定し、ラケットのコントロールに集中。トスとスイングは一貫した角度を保つ。  \n改善法：手首の動きを抑えるために、トスとスイングを別々に練習し、手首のリリースポイントを統一。\n\n**フォロースルーの姿勢**  \n現状：フォロースルーが短く、動作が止まりやすい。  \n理想値：体を横に倒しながら自然に続く軌道を描き、体重移動と連動させる。  \n改善法：スイング後も体の重心を横に移動させることを意識し、連続動作の感覚を養う。\n\n---\n\n## 3. 🏅 世界トップ選手比較\nフェデラーは優れた体幹制御とスムーズな動作連結、ジョコビッチは正確なトスとタイミング、ナダルはパワーと踏み込みの強さが特徴。あなたは、これらの選手に比べて動作の一貫性と安定性が不足しているため、パワーとコントロールを両立させるための基礎固めと動作精度の向上を目標にすべきです。\n\n---\n\n## 4. 🎯 8週間改善プログラム\n\n**第1-2週：基礎修正期**  \nスタンスと肘の高さ、膝の曲げ角度を正しく身につける練習。鏡やビデオを使い、フォームの自己確認を徹底。トスの安定性と基本動作の反復練習で安定感を養う。\n\n**第3-4週：技術統合期**  \n踏み込みとジャンプのタイミングを合わせ、スイングと連動させる練習。動作の一連の流れを意識しながら、実戦を想定した連続練習を行う。安定性とパワーの両立を図る。\n\n**第5-6週：実戦応用期**  \nコースター練習やポイント練習を導入し、動作の安定性とコントロールを高める。状況判断やフォーカスの集中も併せてトレーニング。動画を使った自己分析も実施。\n\n**第7-8週：完成期**  \nトップ選手の動作に近づけるための微調整と応用練習。実践的なシチュエーションでフォームの再確認と微調整を行い、安定したサービスを習得。試合で試す。\n\n---\n\n## 5. 🏋️ 専門フィジカル強化プログラム\n\n**A. 下半身パワー強化（週3回）**  \n• バックスクワット（適正重量：自重＋20kg）×8回×4セット  \n• プライオメトリクス（ジャンプスクワット）×10回×3セット\n\n**B. 体幹安定化（週4回）**  \n• プランク（フル）60秒×3セット  \n• ローテーションツイスト（バーベルまたはメディシンボール）×15回×3セット\n\n**C. 上半身連動性（週2回）**  \n• scapular push-up（肩甲骨の可動域向上）×15回×3セット  \n• ローテーターカフ（軽負荷ダンベル）×12回×3セット\n\n---\n\n## 6. 🧠 メンタル・戦術強化\n\n**A. 集中力向上**  \nルーティン：サービス前に深呼吸→トス位置の確認→リズムを一定に保つ→フォームの自己確認→次の動作へ。呼吸法：深呼吸で心拍を整え、集中を高める。\n\n**B. 実戦確認システム**  \n• [ ] 膝角度：155-165度をキープ  \n• [ ] 肘高さ：肩より+8-12cm  \n• [ ] トス位置：前方12-15cm、右側5-8cm  \n• [ ] 体重移動：0.3-0.4秒で完了  \n• [ ] フォロースルー：体を横切る軌道\n\n---\n\n## 7. 💡 あなたへのワンポイントアドバイス\nフォームの安定性を向上させるには、まず基本動作を徹底的に固めることが重要です。具体的には、スタンスの見直し、肘と手首の位置調整、膝の屈伸、トスの安定化に注力してください。これらを習慣化するためには、ビデオ撮影と自己観察を併用し、動きを鏡の前やコーチと確認しながら練習します。トスの安定性はサービスの精度と安定性に直結しますので、トスの位置と高さを一定に保つ練習を繰り返し行いましょう。 また、動作の一連の流れを意識しながら練習することで、フォームの乱れを減らし、安定したサービスを築いていきます。メンタル面では、「ルーティンの確立」と「呼吸法」により集中力を高め、緊張をコントロールしましょう。これらの基礎を固めることが、長期的な安定性とパフォーマンス向上に繋がります。\n\n---",
    "user_concerns": "フォームが安定しません"
  },
  "user_concerns": "フォームが安定しません",
  "preprocessing": {
    "success": true,
    "duration": 0,
    "fps": 30
  },
  "pose_detection": {
    "success": true,
    "detected_frames": 436,
    "confidence_avg": 0.0
  },
  "technical_analysis": {
    "knee_movement": {
      "max_bend_angle": 0.37012717737876305,
      "max_bend_frame": 274,
      "timing_score": 8.0,
      "depth_score": 9.0,
      "overall_score": 8.5,
      "issues": [
        "膝の曲げが早すぎます",
        "膝の曲げが深すぎます"
      ],
      "recommendations": [
        "膝の曲げを少し浅くして、バランスを保ちましょう",
        "トスと同時に膝を曲げ始めるタイミングを練習しましょう"
      ]
    },
    "elbow_position": {
      "average_height": 0.5,
      "shoulder_relative_position": 0,
      "height_score": 10.0,
      "stability_score": 8.0,
      "overall_score": 9.0,
      "issues": [
        "肘の動きが不安定です"
      ],
      "recommendations": [
        "肘の軌道を安定させるため、ゆっくりとした練習から始めましょう"
      ]
    },
    "toss_trajectory": {
      "max_height": 1.03442969545722,
      "forward_distance": 0.06408575177192688,
      "consistency_score": 0.24525550724025447,
      "height_score": 9.0,
      "distance_score": 10.0,
      "overall_score": 7.150851690800849,
      "issues": [
        "トスが高すぎます",
        "トスの軌道が不安定です"
      ],
      "recommendations": [
        "トスの高さを少し抑えて、コントロールを向上させましょう"
      ]
    },
    "body_rotation": {
      "max_shoulder_rotation": 179.96566860313624,
      "max_hip_rotation": 179.92746447183015,
      "shoulder_score": 9.0,
      "hip_score": 9.0,
      "overall_score": 9.0,
      "issues": [
        "肩の回転が過度です",
        "腰の回転が過度です"
      ],
      "recommendations": [
        "肩の回転を少し抑えて、コントロールを向上させましょう"
      ]
    },
    "timing": {
      "total_duration": 21.366666666666667,
      "phase_scores": {
        "preparation": 4.0,
        "ball_toss": 4.0,
        "trophy_position": 4.0,
        "acceleration": 6.0,
        "contact": 10.0,
        "follow_through": 4.0
      },
      "overall_score": 5.333333333333333,
      "issues": [
        "preparationフェーズが長すぎます",
        "ball_tossフェーズが短すぎます",
        "trophy_positionフェーズが短すぎます",
        "follow_throughフェーズが長すぎます"
      ],
      "recommendations": [
        "各フェーズのタイミングを意識して、リズムの良いサーブを心がけましょう",
        "メトロノームを使った練習で、一定のリズムを身につけましょう"
      ]
    }
  },
  "serve_phases": {
    "preparation": {
      "start_frame": 0,
      "end_frame": 408,
      "duration": 13.6,
      "key_events": [
        "stance_setup",
        "initial_position"
      ]
    },
    "ball_toss": {
      "start_frame": 408,
      "end_frame": 433,
      "duration": 0.8333333333333334,
      "key_events": [
        "toss_initiation",
        "ball_release"
      ]
    },
    "trophy_position": {
      "start_frame": 433,
      "end_frame": 107,
      "duration": -10.866666666666667,
      "key_events": [
        "trophy_formation",
        "weight_transfer"
      ]
    },
    "acceleration": {
      "start_frame": 107,
      "end_frame": 119,
      "duration": 0.4,
      "key_events": [
        "racket_acceleration",
        "kinetic_chain"
      ]
    },
    "contact": {
      "start_frame": 119,
      "end_frame": 122,
      "duration": 0.1,
      "key_events": [
        "ball_contact",
        "maximum_reach"
      ]
    },
    "follow_through": {
      "start_frame": 122,
      "end_frame": 640,
      "duration": 17.266666666666666,
      "key_events": [
        "deceleration",
        "landing"
      ]
    }
  }
}