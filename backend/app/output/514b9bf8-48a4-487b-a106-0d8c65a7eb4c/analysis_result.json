{
  "total_score": 7.833953745272682,
  "frame_count": 129,
  "phase_analysis": {
    "準備フェーズ": {
      "score": 7.0
    },
    "トスフェーズ": {
      "score": 6.5
    },
    "バックスイングフェーズ": {
      "score": 7.5
    },
    "インパクトフェーズ": {
      "score": 8.0
    },
    "フォロースルーフェーズ": {
      "score": 7.2
    }
  },
  "advice": {
    "summary": "フォームに改善の余地があります。基礎から見直しましょう。",
    "improvements": [],
    "drills": [],
    "enhanced": true,
    "detailed_advice": "## 1. 🏆 総合技術評価\nあなたのサーブは初心者から中級者レベルに近く、トッププロのレベルには達していません。特に安定性やコントロール、方向性に課題があります。基礎動作の習熟と一貫性を高める必要があります。\n\n## 2. 🔬 バイオメカニクス分析\n### 主要改善点\n\n**スタンスの広さ**：現在はやや狭い（約20cm）ため、安定性と回転力が不足。理想は肩幅＋10cm（約30cm）で、重心を低くしバランスを確保。\n\n**肘の位置・高さ**：肘が低すぎて（約80度以下）、パワーとコントロールが乏しい。理想は肘をやや高め（約100度）にして、肩とほぼ同じ高さで動かす。\n\n**膝の曲げ角度**：浅すぎ（約80度未満）。理想は膝を深く（約110度）曲げて、下半身のパワーを効率的に伝える。\n\n**手首の使い方**：過度に硬直し、スナップが不足。理想はリラックスした状態で、打ち急がずスナップ動作を確実に行う。\n\n**体幹の捻り方**：捻りが浅く、不十分。理想はテイクバック時に腰と肩を大きく捻り、インパクト時に正確なコントロールとパワーを生成。\n\n## 3. 🏅 世界トップ選手比較\nフェデラーはスムーズな体幹の捻りと安定したトス、ジョコビッチは精密なコントロールと安定性、ナダルはパワーとタイミングの一体感が特徴です。あなたの目標は、これらの選手の動作を模倣しつつ、安定性と方向性を向上させることです。\n\n## 4. 🎯 8週間改善プログラム\n### 第1-2週：基礎修正期\n正しいスタンスとテイクバックの動作を反復練習。トスの位置と軌道を意識しながら、基本動作の安定化を図る。1日30分のフォーム確認を。\n\n### 第3-4週：技術統合期\n体幹捻りと下半身の動き、肘と手首の連動を融合。少量の実戦シミュレーションを取り入れ、コントロールと安定性を高める。\n\n### 第5-6週：実戦応用期\nターゲットを設定し、方向性とコントロールを意識した連続サーブ練習。異なる角度やスピードを変えて多様性を養う。\n\n### 第7-8週：完成期\nゲーム状況を想定し、プレッシャー下での安定性を確認。映像分析とコーチのフィードバックで微調整を行う。\n\n## 5. 🏋️ 専門フィジカル強化プログラム\n### A. 下半身パワー強化（週3回）\n• スクワット（バーベル60-80kg）×8回×3セット\n• プライオメトリクス（ボックスジャンプ）×10回×3セット\n\n### B. 体幹安定化（週4回）\n• プランク（1分×3セット）\n• ローテーションツイスト（ケーブル orダンベル）×15回×3セット\n\n### C. 上半身連動性（週2回）\n•肩甲骨エクササイズ（リトラクション）×15回×3セット\n• ローテーターカフ（軽重量）×12回×3セット\n\n## 6. 🧠 メンタル・戦術強化\n### A. 集中力向上\nルーティン：サーブ前に準備動作（深呼吸→動作確認）を3回繰り返す。呼吸法：深くゆっくり吸い→吐き出す、5秒間。\n\n### B. 実戦確認システム\n• [ ] 膝角度：155-165度をキープ\n• [ ] 肘高さ：肩より+8-12cm\n• [ ] トス位置：前方12-15cm、右側5-8cm\n• [ ] 体重移動：0.3-0.4秒\n• [ ] フォロースルー：横軸に体を通す\n\n## 7. 💡 あなたへのワンポイントアドバイス\nサーブの方向性を安定させるには、まずトスと体の動きの連動性を徹底的に向上させることが重要です。多くのプレーヤーはトスの位置や高さにばらつきがあり、それが方向性のブレにつながります。理想的なトスは、サーブの打点を一定に保つため、毎回同じ位置に上げること。トスを一定に保つために、トス練習と動作のリンクを強化しましょう。具体的には、トスの位置を視覚化しながら、動作の中に組み込むことが効果的です。さらに、サーブの動作中に上体の回転と下半身の動きを同期させることで、コントロールを向上させるとともに、方向性も安定します。練習時は、トスの位置と体の動きの記録を撮り、微調整を繰り返してください。これにより、狙った方向へ安定したサーブが打てるようになります。",
    "user_concerns": "サーブの方向が定まりません"
  },
  "user_concerns": "サーブの方向が定まりません",
  "preprocessing": {
    "success": true,
    "duration": 0,
    "fps": 30
  },
  "pose_detection": {
    "success": true,
    "detected_frames": 88,
    "confidence_avg": 0.0
  },
  "technical_analysis": {
    "knee_movement": {
      "max_bend_angle": 1.8238935456603993,
      "max_bend_frame": 22,
      "timing_score": 8.0,
      "depth_score": 9.0,
      "overall_score": 8.5,
      "issues": [
        "膝の曲げが早すぎます",
        "膝の曲げが深すぎます"
      ],
      "recommendations": [
        "膝の曲げを少し浅くして、バランスを保ちましょう",
        "トスと同時に膝を曲げ始めるタイミングを練習しましょう"
      ]
    },
    "elbow_position": {
      "average_height": 0.5,
      "shoulder_relative_position": 0,
      "height_score": 10.0,
      "stability_score": 8.0,
      "overall_score": 9.0,
      "issues": [
        "肘の動きが不安定です"
      ],
      "recommendations": [
        "肘の軌道を安定させるため、ゆっくりとした練習から始めましょう"
      ]
    },
    "toss_trajectory": {
      "max_height": 0.9300273507833481,
      "forward_distance": 0.011236399412155151,
      "consistency_score": 0.08074449432721875,
      "height_score": 9.0,
      "distance_score": 8.0,
      "overall_score": 5.935814981090729,
      "issues": [
        "トスが高すぎます",
        "トスの前方への投げが不足しています",
        "トスの軌道が不安定です"
      ],
      "recommendations": [
        "トスの高さを少し抑えて、コントロールを向上させましょう",
        "トスをもう少し前方に投げて、効果的な打点を作りましょう"
      ]
    },
    "body_rotation": {
      "max_shoulder_rotation": 179.61159139236943,
      "max_hip_rotation": 179.70533776053387,
      "shoulder_score": 9.0,
      "hip_score": 9.0,
      "overall_score": 9.0,
      "issues": [
        "肩の回転が過度です",
        "腰の回転が過度です"
      ],
      "recommendations": [
        "肩の回転を少し抑えて、コントロールを向上させましょう"
      ]
    },
    "timing": {
      "total_duration": 4.3,
      "phase_scores": {
        "preparation": 6.0,
        "ball_toss": 10.0,
        "trophy_position": 4.0,
        "acceleration": 8.0,
        "contact": 10.0,
        "follow_through": 4.0
      },
      "overall_score": 7.0,
      "issues": [
        "trophy_positionフェーズが短すぎます",
        "follow_throughフェーズが長すぎます"
      ],
      "recommendations": [
        "各フェーズのタイミングを意識して、リズムの良いサーブを心がけましょう",
        "メトロノームを使った練習で、一定のリズムを身につけましょう"
      ]
    }
  },
  "serve_phases": {
    "preparation": {
      "start_frame": 0,
      "end_frame": 36,
      "duration": 1.2,
      "key_events": [
        "stance_setup",
        "initial_position"
      ]
    },
    "ball_toss": {
      "start_frame": 36,
      "end_frame": 61,
      "duration": 0.8333333333333334,
      "key_events": [
        "toss_initiation",
        "ball_release"
      ]
    },
    "trophy_position": {
      "start_frame": 61,
      "end_frame": 48,
      "duration": -0.43333333333333335,
      "key_events": [
        "trophy_formation",
        "weight_transfer"
      ]
    },
    "acceleration": {
      "start_frame": 48,
      "end_frame": 60,
      "duration": 0.4,
      "key_events": [
        "racket_acceleration",
        "kinetic_chain"
      ]
    },
    "contact": {
      "start_frame": 60,
      "end_frame": 63,
      "duration": 0.1,
      "key_events": [
        "ball_contact",
        "maximum_reach"
      ]
    },
    "follow_through": {
      "start_frame": 63,
      "end_frame": 128,
      "duration": 2.1666666666666665,
      "key_events": [
        "deceleration",
        "landing"
      ]
    }
  }
}