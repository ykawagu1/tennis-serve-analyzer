{
  "total_score": 7.833333333333333,
  "frame_count": 214,
  "phase_analysis": {
    "準備フェーズ": {
      "score": 7.0
    },
    "トスフェーズ": {
      "score": 6.5
    },
    "バックスイングフェーズ": {
      "score": 7.5
    },
    "インパクトフェーズ": {
      "score": 8.0
    },
    "フォロースルーフェーズ": {
      "score": 7.2
    }
  },
  "advice": {
    "summary": "フォームに改善の余地があります。基礎から見直しましょう。",
    "improvements": [],
    "drills": [],
    "enhanced": true,
    "detailed_advice": "## 1. 🏆 総合技術評価\n現状はアマチュア中級者レベルに留まっており、トップレベルの選手と比較すると、トスの安定性、身体の回転、タイミングコントロールに大きな差があります。特にトスの一貫性と動作のスムーズさが不足しており、修正次第で大きく改善可能です。\n\n## 2. 🔬 バイオメカニクス分析\n### 主要改善点（上位５つ）\n**トスの位置と高さ**  \n現在はトスが後方または横に不安定で、理想は頭上に静止し、前方少し高め（約30cm）に位置。安定させるには、腕と手首の動きを最小限に抑え、トスを一定の高さ・位置に保つ練習が必要です。\n\n**肘の角度と位置**  \n現在は肘が過度に伸びたり屈曲しすぎている傾向。理想は肘を約150度に保ち、体側に沿って安定させること。これによりトスの一貫性とコントロール性が向上します。\n\n**手首の使い方**  \n現状は手首の過剰な動きが見られる。理想はリラックスした状態で、スナップを使わずに自然な動きに従い、安定したトスを実現することです。\n\n**体幹の捻りと回転**  \n前方へのトスでは、上半身の捻りが不足。理想は足腰からの回転を連動させ、体幹をしっかりと使い、トスの位置を安定させること。これにより、トスの高さと位置の一貫性が向上します。\n\n**体重移動とバランス**  \n現在は体重が左右に偏りやすく、バランスが崩れやすい。理想は両足の重心を均一に保ち、静止した状態から自然に体重を後方に移動させ、安定したトスをサポートします。\n\n## 3. 🏅 世界トップ選手比較\nフェデラーやジョコビッチは、トスの安定性と一貫性に優れ、身体の回転と連動させた滑らかな動きが特徴です。彼らは肘や手首の動きを最小限に抑えつつ、体幹を効果的に使い、トスの高さと位置を絶えず調整します。到達目標は、これらの連動性と安定性を身につけ、再現性の高いトスを作ることです。\n\n## 4. 🎯 8週間改善プログラム\n### 第1-2週: 基礎修正期  \nトスの基本位置と高さ、肘の角度、手首のリラックスを徹底練習。鏡や動画で自己観察しながら、静止状態でのトスコントロールを習得。身体のバランスや安定性を高めるドリルを取り入れます。\n\n### 第3-4週: 技術統合期  \nトスとサーブ動作を連動させる練習。軽いボールを使い、動作をゆっくり行いながら、身体の回転とタイミングを意識。トスの位置と高さの調整を安定させ、動作のスムーズさを追求。\n\n### 第5-6週: 実戦応用期  \n実際のサーブに近い速度で練習し、トス安定性を確認。コートでの動きと連動させ、トスの再現性を高めるための反復練習を行います。トスの位置を微調整しながら、試合状況を想定。\n\n### 第7-8週: 完成期  \nトスの安定性と再現性を実戦レベルに引き上げ、異なるサーブタイプに対応。試合形式の練習で、トスの安定性とコントロールを自己評価し、最終調整を行います。\n\n【補足】年齢30代、身長180cm、体重75kgの男性選手を想定。\n\n## 5. 🏋️ 専門フィジカル強化プログラム\n### A. 下半身パワー強化（週3回）  \n• バックスクワット 60kg×12回×3セット  \n• プライオメトリクス（ボックスジャンプ） 10回×3セット\n\n### B. 体幹安定化（週4回）  \n• プランク 60秒×3セット  \n• ローテーションツイスト 20回×3セット\n\n### C. 上半身連動性（週2回）  \n•肩甲骨ストレッチ 15回×2セット  \n• ローテーターカフエクササイズ 10kg×15回×2セット\n\n## 6. 🧠 メンタル・戦術強化\n### A. 集中力向上  \nルーティン：トス前に深呼吸→リラックス→一定の動作を繰り返す。呼吸法：4秒吸って4秒吐き、プレー間のリズムを整える。\n\n### B. 実戦確認システム  \n• [ ] 膝角度: 155-165度をキープ  \n• [ ] 肘高さ: 肩より+8-12cm高い  \n• [ ] トス位置: 前方12-15cm、右側5-8cm  \n• [ ] 体重移動: 0.3-0.4秒で完了  \n• [ ] フォロースルー: 体を横切る軌道\n\n## 7. 💡 あなたへのワンポイントアドバイス\nトスの安定性向上には、まずトスの位置と高さを一定に保つことが最優先です。トスが安定しない主な原因は、腕や手首の過剰な動きと、身体のバランスの乱れです。トス時に手首のリリースを最小限に抑えるために、リラックスした状態を意識し、腕の動きは肩から自然に連動させることが重要です。トスの高さは、目安として頭上より少し高い位置（約30cm）に設定し、一定のリズムと位置を確保します。さらに、身体の安定性を高めるためには、下半身のバランスとコアの強化が不可欠です。トスを上げる時は、体重を後方に少し預け、上半身をひねりながら連動させると安定感が増します。トス練習では、静止させた状態での手と腕の動きに集中し、動画や鏡を使って自己観察を行うことも効果的です。これらのポイントを意識しながら、反復練習を積むことで、トスの一貫性と安定性が自然と向上します。",
    "user_concerns": "トスが安定しません"
  },
  "user_concerns": "トスが安定しません",
  "preprocessing": {
    "success": true,
    "duration": 0,
    "fps": 30
  },
  "pose_detection": {
    "success": true,
    "detected_frames": 129,
    "confidence_avg": 0.0
  },
  "technical_analysis": {
    "knee_movement": {
      "max_bend_angle": 6.013778822534297,
      "max_bend_frame": 110,
      "timing_score": 8.0,
      "depth_score": 9.0,
      "overall_score": 8.5,
      "issues": [
        "膝の曲げが遅すぎます",
        "膝の曲げが深すぎます"
      ],
      "recommendations": [
        "膝の曲げを少し浅くして、バランスを保ちましょう",
        "もう少し早めに膝を曲げ始めましょう"
      ]
    },
    "elbow_position": {
      "average_height": 0.5,
      "shoulder_relative_position": 0,
      "height_score": 10.0,
      "stability_score": 8.0,
      "overall_score": 9.0,
      "issues": [
        "肘の動きが不安定です"
      ],
      "recommendations": [
        "肘の軌道を安定させるため、ゆっくりとした練習から始めましょう"
      ]
    },
    "toss_trajectory": {
      "max_height": 0.8847171068191528,
      "forward_distance": 0.10552486777305603,
      "consistency_score": 0.0,
      "height_score": 9.0,
      "distance_score": 10.0,
      "overall_score": 6.333333333333333,
      "issues": [
        "トスが高すぎます",
        "トスの軌道が不安定です"
      ],
      "recommendations": [
        "トスの高さを少し抑えて、コントロールを向上させましょう"
      ]
    },
    "body_rotation": {
      "max_shoulder_rotation": 179.83928949542798,
      "max_hip_rotation": 178.97322137830344,
      "shoulder_score": 9.0,
      "hip_score": 9.0,
      "overall_score": 9.0,
      "issues": [
        "肩の回転が過度です",
        "腰の回転が過度です"
      ],
      "recommendations": [
        "肩の回転を少し抑えて、コントロールを向上させましょう"
      ]
    },
    "timing": {
      "total_duration": 7.133333333333334,
      "phase_scores": {
        "preparation": 4.0,
        "ball_toss": 8.0,
        "trophy_position": 4.0,
        "acceleration": 8.0,
        "contact": 10.0,
        "follow_through": 4.0
      },
      "overall_score": 6.333333333333333,
      "issues": [
        "preparationフェーズが長すぎます",
        "trophy_positionフェーズが短すぎます",
        "follow_throughフェーズが長すぎます"
      ],
      "recommendations": [
        "各フェーズのタイミングを意識して、リズムの良いサーブを心がけましょう",
        "メトロノームを使った練習で、一定のリズムを身につけましょう"
      ]
    }
  },
  "serve_phases": {
    "preparation": {
      "start_frame": 0,
      "end_frame": 68,
      "duration": 2.2666666666666666,
      "key_events": [
        "stance_setup",
        "initial_position"
      ]
    },
    "ball_toss": {
      "start_frame": 68,
      "end_frame": 93,
      "duration": 0.8333333333333334,
      "key_events": [
        "toss_initiation",
        "ball_release"
      ]
    },
    "trophy_position": {
      "start_frame": 93,
      "end_frame": 38,
      "duration": -1.8333333333333333,
      "key_events": [
        "trophy_formation",
        "weight_transfer"
      ]
    },
    "acceleration": {
      "start_frame": 38,
      "end_frame": 50,
      "duration": 0.4,
      "key_events": [
        "racket_acceleration",
        "kinetic_chain"
      ]
    },
    "contact": {
      "start_frame": 50,
      "end_frame": 53,
      "duration": 0.1,
      "key_events": [
        "ball_contact",
        "maximum_reach"
      ]
    },
    "follow_through": {
      "start_frame": 53,
      "end_frame": 213,
      "duration": 5.333333333333333,
      "key_events": [
        "deceleration",
        "landing"
      ]
    }
  }
}