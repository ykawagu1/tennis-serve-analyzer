{
  "total_score": 7.9136131054249015,
  "frame_count": 129,
  "phase_analysis": {
    "準備フェーズ": {
      "score": 7.0
    },
    "トスフェーズ": {
      "score": 6.5
    },
    "バックスイングフェーズ": {
      "score": 7.5
    },
    "インパクトフェーズ": {
      "score": 8.0
    },
    "フォロースルーフェーズ": {
      "score": 7.2
    }
  },
  "advice": {
    "summary": "フォームに改善の余地があります。基礎から見直しましょう。",
    "improvements": [],
    "drills": [],
    "enhanced": true,
    "detailed_advice": "## 1. 🏆 総合技術評価\nあなたのサービスフォームは基本的な動作はできているものの、パワーと安定性に欠け、トッププレーヤーと比べると動作の効率性と一貫性に課題があります。特に身体の回転とリリース動作のタイミングが遅く、パワー伝達のロスが大きいです。アマチュア上級者レベルではありますが、トップ選手のような洗練された動きには改善余地があります。\n\n## 2. 🔬 バイオメカニクス分析\n- **スタンスの広さ**  \n現在：やや狭く、安定性に欠ける。理想：足幅は肩幅の1.2〜1.3倍で、重心を低く保ちつつ前後のバランスも取る。改善：足を広げすぎず、正しいスタンスを意識し、踏み込みと重心移動をスムーズに行う。\n\n- **肘の位置・高さ**  \n現在：肘がやや低く、肩より下に下がりがち。理想：肘が肩とほぼ同じ高さ、または少し高い位置でリリース。改善：肘の位置を高く保ち、手首の角度を適切に維持しながらスムーズなラケットリリースを促進。\n\n- **膝の曲げ角度**  \n現在：膝の屈曲深さが浅い。理想：膝は約150〜165度に屈曲し、ジャンプとパワー伝達を最適化。改善：ジャンプ前にしっかりと膝を曲げ、地面からの反発を効率的に利用。\n\n- **手首の使い方**  \n現在：手首の動きが過剰または不足し、安定性に欠ける。理想：手首はリラックスさせ、ラケットフェースの角度をコントロールしやすい状態に。改善：手首の過剰な動きを抑え、リリースとスイングの一体化を図る。\n\n- **フォロースルーの姿勢**  \n現在：フィニッシュが早すぎてパワー伝達が不十分。理想：体の横を抜ける長いフォロースルー。改善：スイング後も体を回転させ、エネルギーを最大限に伝える動作を意識。\n\n## 3. 🏅 世界トップ選手比較\nトップ選手は、体幹の回転とタイミングの精度、リリース動作の洗練性に優れています。フェデラーは滑らかな動きとリリースのタイミング、ジョコビッチは安定した体幹制御とパワー伝達、ナダルは高い膝屈曲と下半身の爆発力が際立ちます。あなたはこれらの要素を段階的に習得し、動作の一体感を高める必要があります。\n\n## 4. 🎯 8週間改善プログラム\n\n### 第1-2週: 基礎修正期  \nスタンスとトスの位置、肘の高さに集中。鏡やビデオで動作を確認しながら、正しい動きの反復練習を行う。体幹の安定性とリラックスした手首の保持を意識。\n\n### 第3-4週: 技術統合期  \n動作の連動性を高めるために、ステップバイステップの練習から動作全体を通す。フォームの一貫性とタイミングを意識し、試合場面を想定した練習も取り入れる。\n\n### 第5-6週: 実戦応用期  \n実戦を想定した練習で、動きのスピードとパワーを増加させる。動作の一体感を維持しつつ、サーブの多様性やコース展開を練習。メンタル面でも集中力を養う。\n\n### 第7-8週: 完成期  \n実戦さながらの練習とビデオフィードバックを繰り返し、微調整を行う。動作の安定性とパワーを最大化し、試合でのパフォーマンスに自信を持てる状態を目指す。\n\n（例：男性、身長180cm、体重75kg、30歳の選手を想定）\n\n## 5. 🏋️ 専門フィジカル強化プログラム\n\n### A. 下半身パワー強化（週3回）  \n• スクワット（バーベル）：70kg×8回×3セット  \n• プライオメトリクス（ジャンプ系）：箱ジャンプ（45cm）×10回×3セット  \n\n### B. 体幹安定化（週4回）  \n• プランク：60秒×3セット  \n• 回転系：シットアップツイスト：20回×3セット  \n\n### C. 上半身連動性（週2回）  \n• 肩甲骨ストレッチ：各種目×15回×3セット  \n• ローテーターカフ：軽負荷ダンベル（2kg）×12回×3セット  \n\n## 6. 🧠 メンタル・戦術強化\n\n### A. 集中力向上  \nルーティン：サーブ前の呼吸とストレッチを一定化。呼吸法は深呼吸を3秒吸い、3秒吐きながら集中を高める。\n\n### B. 実戦確認システム  \n• [ ] 膝角度：155-165度をキープ  \n• [ ] 肘高さ：肩より+8-12cm  \n• [ ] トス位置：前方12-15cm、右側5-8cm  \n• [ ] 体重移動：0.3-0.4秒で完了  \n• [ ] フォロースルー：体を横切る軌道  \n\nこのリストを練習前に確認し、意識付けを徹底してください。",
    "user_concerns": ""
  },
  "user_concerns": "",
  "preprocessing": {
    "success": true,
    "duration": 0,
    "fps": 30
  },
  "pose_detection": {
    "success": true,
    "detected_frames": 89,
    "confidence_avg": 0.0
  },
  "technical_analysis": {
    "knee_movement": {
      "max_bend_angle": 1.8238935456603993,
      "max_bend_frame": 22,
      "timing_score": 8.0,
      "depth_score": 9.0,
      "overall_score": 8.5,
      "issues": [
        "膝の曲げが早すぎます",
        "膝の曲げが深すぎます"
      ],
      "recommendations": [
        "膝の曲げを少し浅くして、バランスを保ちましょう",
        "トスと同時に膝を曲げ始めるタイミングを練習しましょう"
      ]
    },
    "elbow_position": {
      "average_height": 0.5,
      "shoulder_relative_position": 0,
      "height_score": 10.0,
      "stability_score": 8.0,
      "overall_score": 9.0,
      "issues": [
        "肘の動きが不安定です"
      ],
      "recommendations": [
        "肘の軌道を安定させるため、ゆっくりとした練習から始めましょう"
      ]
    },
    "toss_trajectory": {
      "max_height": 0.9300273507833481,
      "forward_distance": 0.020734041929244995,
      "consistency_score": 0.1763357265098826,
      "height_score": 9.0,
      "distance_score": 8.0,
      "overall_score": 6.254452421699608,
      "issues": [
        "トスが高すぎます",
        "トスの前方への投げが不足しています",
        "トスの軌道が不安定です"
      ],
      "recommendations": [
        "トスの高さを少し抑えて、コントロールを向上させましょう",
        "トスをもう少し前方に投げて、効果的な打点を作りましょう"
      ]
    },
    "body_rotation": {
      "max_shoulder_rotation": 179.61159139236943,
      "max_hip_rotation": 179.70533776053387,
      "shoulder_score": 9.0,
      "hip_score": 9.0,
      "overall_score": 9.0,
      "issues": [
        "肩の回転が過度です",
        "腰の回転が過度です"
      ],
      "recommendations": [
        "肩の回転を少し抑えて、コントロールを向上させましょう"
      ]
    },
    "timing": {
      "total_duration": 4.3,
      "phase_scores": {
        "preparation": 6.0,
        "ball_toss": 10.0,
        "trophy_position": 4.0,
        "acceleration": 8.0,
        "contact": 10.0,
        "follow_through": 4.0
      },
      "overall_score": 7.0,
      "issues": [
        "trophy_positionフェーズが短すぎます",
        "follow_throughフェーズが長すぎます"
      ],
      "recommendations": [
        "各フェーズのタイミングを意識して、リズムの良いサーブを心がけましょう",
        "メトロノームを使った練習で、一定のリズムを身につけましょう"
      ]
    }
  },
  "serve_phases": {
    "preparation": {
      "start_frame": 0,
      "end_frame": 37,
      "duration": 1.2333333333333334,
      "key_events": [
        "stance_setup",
        "initial_position"
      ]
    },
    "ball_toss": {
      "start_frame": 37,
      "end_frame": 62,
      "duration": 0.8333333333333334,
      "key_events": [
        "toss_initiation",
        "ball_release"
      ]
    },
    "trophy_position": {
      "start_frame": 62,
      "end_frame": 49,
      "duration": -0.43333333333333335,
      "key_events": [
        "trophy_formation",
        "weight_transfer"
      ]
    },
    "acceleration": {
      "start_frame": 49,
      "end_frame": 61,
      "duration": 0.4,
      "key_events": [
        "racket_acceleration",
        "kinetic_chain"
      ]
    },
    "contact": {
      "start_frame": 61,
      "end_frame": 64,
      "duration": 0.1,
      "key_events": [
        "ball_contact",
        "maximum_reach"
      ]
    },
    "follow_through": {
      "start_frame": 64,
      "end_frame": 128,
      "duration": 2.1333333333333333,
      "key_events": [
        "deceleration",
        "landing"
      ]
    }
  }
}