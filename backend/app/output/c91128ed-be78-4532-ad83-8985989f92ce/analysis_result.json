{
  "total_score": 6.462121364507928,
  "frame_count": 51,
  "phase_analysis": {
    "準備フェーズ": {
      "score": 7.0
    },
    "トスフェーズ": {
      "score": 4.236915293217855
    },
    "バックスイングフェーズ": {
      "score": 8.0
    },
    "インパクトフェーズ": {
      "score": 7.0
    },
    "フォロースルーフェーズ": {
      "score": 7.75
    }
  },
  "advice": {
    "summary": "フォームに改善の余地があります。基礎から見直しましょう。",
    "improvements": [],
    "drills": [],
    "enhanced": true,
    "detailed_advice": "【テニスサービス動作解析結果に基づく詳細アドバイス】\n\n## 1. 🏆 総合技術評価\nあなたのサービスレベルはアマチュア上級者に近く、安定した動作はあるものの、パワーと一貫性に課題があります。トップレベルの選手（フェデラー、ジョコビッチなど）と比較すると、体幹の安定性やコントロール、スピードに差があります。改善次第でプロレベルに到達できる潜在性を持っています。\n\n## 2. 🔬 バイオメカニクス分析\n\n### 1) スタンスの広さ\n現在：足は肩幅よりやや狭く、動作時に安定感不足。理想：肩幅またはやや広めで、重心が安定し、パワー伝達効率向上。改善：足を肩幅に広げ、やや前傾姿勢を深めて重心を低く保ち、安定した基盤を作る。\n\n### 2) 肘の位置と高さ\n現在：肘はやや低く、体の横に近い位置。理想：肘はやや高く（肩より10cm程度）、ケーブルのように自然に上げる。改善：肘を少し高く保ちつつ、リラックスさせて自然な動きにし、スピードとコントロールを向上させる。\n\n### 3) 膝の曲げ角度\n現在：膝はほぼ伸展状態（15度未満）。理想：膝は約45度に曲げ、体の沈みと反動を最大化。改善：しゃがむ感覚を持ち、重心を下げることで、より爆発的な推進力と安定性を得る。\n\n### 4) 手首の使い方\n現在：手首が過度に固定され、スナップ感が弱い。理想：手首はリラックスし、スナップ動作を自然に行う。改善：手首は使わずに、前腕の回内・回外を利用し、球にスピードと回転を加える。\n\n### 5) フォロースルーの姿勢\n現在：フォロースルーが短く、体が早く止まる傾向。理想：体を横に倒し、スイングを最後まで伸ばす。改善：フィニッシュまで腕を振り抜き、体重移動を促進し、パワーと安定を向上させる。\n\n## 3. 🏅 世界トップ選手比較\nフェデラーはスムーズな体幹捻りと柔軟性を活かした滑らかな動き、ジョコビッチは高い安定性とコントロールを持つ。ナダルはパワーと回転を重視。あなたは体幹と手首の使い方をトップ選手のように洗練させ、パワーとコントロールをバランス良く向上させることを目標にすべきです。\n\n## 4. 🎯 8週間改善プログラム\n\n### 第1-2週: 基礎修正期\nスタンスの安定化と膝・腰の動きの意識付け。トス位置の安定と高さ調整。毎日のフォーム意識練習とトスの練習を中心に行い、基本動作の習慣化を図る。\n\n### 第3-4週: 技術統合期\n体幹の回旋と手首のスナップを取り入れ、スイングの自然な流れを練習。サービスのスピードと回転を意識し、動画分析を用いて改善点を確認。実戦形式の練習も開始。\n\n### 第5-6週: 実戦応用期\n実際の試合状況を想定したターゲット練習とプレッシャー下でのサービス練習。コース配置と戦術も併用し、安定性と戦術理解を深める。\n\n### 第7-8週: 完成期\nフォームの微調整とパワーの最大化。試合練習を増やし、実戦での安定性と多様性を持たせる。動画フィードバックとコーチングセッションを継続。\n\n## 5. 🏋️ 専門フィジカル強化プログラム\n\n### A. 下半身パワー強化（週3回）\n• スクワット（バーベル80kg）×8回×4セット\n• プライオメトリクス：ボックスジャンプ×10回×3セット\n• ラテラルジャンプ×12回×3セット\n\n### B. 体幹安定化（週4回）\n• プランク：60秒×3セット\n• ローテーション：ロシアンツイスト×20回×3セット\n• バイシクルクランチ×25回×3セット\n\n### C. 上半身連動性（週2回）\n•肩甲骨エクササイズ（リトラクション）×15回×3セット\n• ローテーターカフ（軽重量）×12回×3セット\n\n## 6. 🧠 メンタル・戦術強化\n\n### A. 集中力向上\n・ルーティン：サービス前に深呼吸と数呼吸を行い、一定の動作を繰り返す\n・呼吸法：深くゆっくりとした腹式呼吸を5秒吸い、5秒吐き、緊張緩和と集中維持\n\n### B. 実戦確認システム\n練習中のチェックリスト：  \n• [ ] 膝角度：155-165度をキープ  \n• [ ] 肘高さ：肩より8-12cm高く  \n• [ ] トス位置：前方12-15cm、右側5-8cm  \n• [ ] 体重移動：0.3-0.4秒で完了  \n• [ ] フォロースルー：体を横に倒す軌道  \n\nこのチェックリストを意識しながら、セルフチェックと動画分析で改善点を把握してください。",
    "user_concerns": ""
  },
  "user_concerns": "",
  "preprocessing": {
    "success": true,
    "duration": 0,
    "fps": 30
  },
  "pose_detection": {
    "success": true,
    "detected_frames": 50,
    "confidence_avg": 0.0
  },
  "technical_analysis": {
    "knee_movement": {
      "max_bend_angle": 1.6086942652261265,
      "max_bend_frame": 24,
      "timing_score": 8.0,
      "depth_score": 6.0,
      "overall_score": 7.0,
      "issues": [
        "膝の曲げが遅すぎます",
        "膝の曲げが大幅に深すぎます"
      ],
      "recommendations": [
        "膝の曲げを少し浅くして、バランスを保ちましょう",
        "もう少し早めに膝を曲げ始めましょう"
      ]
    },
    "elbow_position": {
      "average_height": 0.5,
      "shoulder_relative_position": 0,
      "height_score": 10.0,
      "stability_score": 6.0,
      "overall_score": 8.0,
      "issues": [
        "肘の動きが大幅に不安定です"
      ],
      "recommendations": []
    },
    "toss_trajectory": {
      "max_height": 0.9131462126970291,
      "forward_distance": 0.3867681920528412,
      "consistency_score": 0.0710745879653566,
      "height_score": 6.0,
      "distance_score": 6.0,
      "overall_score": 4.236915293217855,
      "issues": [
        "トスが大幅に高すぎます",
        "トスが大幅に前方に行きすぎています",
        "トスの軌道が大幅に不安定です"
      ],
      "recommendations": [
        "トスの高さを少し抑えて、コントロールを向上させましょう",
        "トスの前方距離を抑えて、バランスを保ちましょう"
      ]
    },
    "body_rotation": {
      "max_shoulder_rotation": 179.549545088028,
      "max_hip_rotation": 178.11515132546523,
      "shoulder_score": 7.0,
      "hip_score": 7.0,
      "overall_score": 7.0,
      "issues": [
        "肩の回転が過度です",
        "腰の回転が過度です"
      ],
      "recommendations": [
        "肩の回転を少し抑えて、コントロールを向上させましょう"
      ]
    },
    "timing": {
      "total_duration": 1.7,
      "phase_scores": {
        "preparation": 5.5,
        "ball_toss": 2.0,
        "trophy_position": 2.0,
        "acceleration": 7.0,
        "contact": 10.0,
        "follow_through": 5.5
      },
      "overall_score": 5.333333333333333,
      "issues": [
        "ball_tossフェーズが長すぎます",
        "trophy_positionフェーズが短すぎます"
      ],
      "recommendations": [
        "各フェーズのタイミングを意識して、リズムの良いサーブを心がけましょう",
        "メトロノームを使った練習で、一定のリズムを身につけましょう"
      ]
    },
    "follow_through": {
      "swing_completion": {
        "score": 10.0,
        "completion_rate": 1.0,
        "horizontal_movement": 0.3911367952823639,
        "vertical_movement": 0.15835648775100708
      },
      "body_rotation_completion": {
        "score": 5.0,
        "final_rotation": 48.8536373972449,
        "max_rotation": 178.87843455763772,
        "rotation_consistency": 0.20334051955960353
      },
      "balance_maintenance": {
        "score": 6.0,
        "left_stability": 0.0,
        "right_stability": 0.0,
        "overall_stability": 0.0
      },
      "racket_path": {
        "score": 10.0,
        "path_smoothness": 0.7982186763895427,
        "path_quality": 0.7982186763895427
      },
      "overall_score": 7.75,
      "issues": [
        "体の回転が不完全です",
        "バランスの維持に問題があります"
      ],
      "recommendations": [
        "フォロースルーの完成度を高めましょう",
        "バランスを保ちながらの振り抜きを練習しましょう"
      ]
    }
  },
  "serve_phases": {
    "preparation": {
      "start_frame": 0,
      "end_frame": 1,
      "duration": 0.03333333333333333,
      "key_events": [
        "stance_setup",
        "initial_position"
      ]
    },
    "ball_toss": {
      "start_frame": 1,
      "end_frame": 23,
      "duration": 0.7333333333333333,
      "key_events": [
        "toss_initiation",
        "ball_release"
      ]
    },
    "trophy_position": {
      "start_frame": 23,
      "end_frame": 19,
      "duration": -0.13333333333333333,
      "key_events": [
        "trophy_formation",
        "weight_transfer"
      ]
    },
    "acceleration": {
      "start_frame": 19,
      "end_frame": 31,
      "duration": 0.4,
      "key_events": [
        "racket_acceleration",
        "kinetic_chain"
      ]
    },
    "contact": {
      "start_frame": 31,
      "end_frame": 34,
      "duration": 0.1,
      "key_events": [
        "ball_contact",
        "maximum_reach"
      ]
    },
    "follow_through": {
      "start_frame": 34,
      "end_frame": 50,
      "duration": 0.5333333333333333,
      "key_events": [
        "deceleration",
        "landing"
      ]
    }
  }
}