{
  "total_score": 7.833953745272682,
  "frame_count": 129,
  "phase_analysis": {
    "準備フェーズ": {
      "score": 7.0
    },
    "トスフェーズ": {
      "score": 6.5
    },
    "バックスイングフェーズ": {
      "score": 7.5
    },
    "インパクトフェーズ": {
      "score": 8.0
    },
    "フォロースルーフェーズ": {
      "score": 7.2
    }
  },
  "advice": {
    "summary": "フォームに改善の余地があります。基礎から見直しましょう。",
    "improvements": [],
    "drills": [],
    "enhanced": true,
    "detailed_advice": "## 1. 🏆 総合技術評価\nあなたのサーブはアマチュア上級者レベルと比較して、基本的な動作は身についていますが、安定性・一貫性に欠けるため、上級者の域には達していません。特にパワーとコントロールのバランス、動きの滑らかさが不足し、コースコントロールに課題があります。\n\n## 2. 🔬 バイオメカニクス分析\n\n### 1. スタンスの広さ\n現在：足幅が狭く、安定感に欠ける。理想：肩幅程度のスタンスで、重心を低く保つ。改善：足をやや広げ、地面をしっかり捉えることでバランスと安定性を向上させ、安定したトスと動作を促進。\n\n### 2. 肘の位置・高さ\n現在：肘がやや下がり、動きが遅い。理想：肘をやや高く保ち、前傾姿勢を作る。改善：肘を腰よりやや上にキープし、スムーズな動作と一貫性を確保。これによりパワー伝達とコントロールが向上。\n\n### 3. 膝の曲げ角度\n現在：膝の屈曲が浅く、地面からの反発を十分に活用できていない。理想：約100-110度の屈曲。改善：膝を深く曲げることで、パワーとジャンプ力を増し、トップスピードと安定性を向上。\n\n### 4. 手首の使い方\n現在：手首の過剰な動きと早すぎるリリース。理想：リリースはトップ付近で、手首は固定または最小限の動き。改善：手首の角度を一定に保ち、コントロールとパワーを効率的に伝える。\n\n### 5. フォロースルーの姿勢\n現在：フォロースルーが短く、体の回転が不十分。理想：肩と腰をしっかり回し、体が横を向くまで続ける。改善：フォロースルーを大きくとることで、安定性とコースコントロール向上、サーブの一貫性が増す。\n\n## 3. 🏅 世界トップ選手比較\nフェデラーやジョコビッチは、スタンスの安定性と肘の高さ、手首の固定が非常に優れており、リズムとコントロールを完璧に調整しています。彼らは膝の深い屈曲と体幹の捻転を効率的に使い、安定したサーブを実現。あなたはこれらを模倣し、パワーと安定性のバランスを取る必要があります。\n\n## 4. 🎯 8週間改善プログラム\n\n### 第1-2週: 基礎修正期\n・正しいスタンスとトス位置の習得、基本動作の反復練習。トスは安定させ、肘・手首の動きに注意。目標は動作の一貫性と安定性向上。\n\n### 第3-4週: 技術統合期\n・膝屈曲と体幹捻転を意識したサーブ練習と動画解析。動作の滑らかさとパワーの向上、コースコントロールを重視。\n\n### 第5-6週: 実戦応用期\n・ポイント練習と状況別サーブ練習（ファースト・セカンド）。サーブの安定性とコース選択を高める。\n\n### 第7-8週: 完成期\n・実戦形式の練習と試合のシミュレーション。安定したサーブとコントロール、戦術的なバリエーションを身につける。\n\n## 5. 🏋️ 専門フィジカル強化プログラム\n\n### A. 下半身パワー強化（週3回）\n・スクワット（バーベル60-80kg）×12回×3セット\n・プライオメトリクス：ボックスジャンプ×10回×3セット\n\n### B. 体幹安定化（週4回）\n・プランク（30秒×4セット）\n・ローテーションツイスト（ケーブル或いはダンベル）×15回×3セット\n\n### C. 上半身連動性（週2回）\n・肩甲骨リトラクションエクササイズ（リバースフライ等）×15回×3セット\n・ローテーターカフ強化（軽負荷・回数多め）×20回×3セット\n\n## 6. 🧠 メンタル・戦術強化\n\n### A. 集中力向上\n・練習前に5分間の深呼吸とルーティン（準備動作＋イメージトレーニング）を確立。試合中は呼吸を一定に保ち、プレーに集中。\n\n### B. 実戦確認システム\n・[ ] 膝角度: 155-165度をキープ\n・[ ] 肘高さ: 肩より+8-12cm高い\n・[ ] トス位置: 前方12-15cm、右側5-8cm\n・[ ] 体重移動: 0.3-0.4秒で完了\n・[ ] フォロースルー: 体を横に回し続ける\n\n## 7. 💡 あなたへのワンポイントアドバイス\nサーブの安定性向上は、まずトスの安定化と動作の一貫性に重点を置くことが重要です。トスの高さと前方位置を一定に保ち、動作中に無駄な動きや揺らぎを排除してください。トスが安定しないと、肘や手首の動きも不規則になり、パワーとコントロールのばらつきが出やすくなります。トスを一定に保つためには、肩と腕の動きを最小限に抑え、背筋と腕の筋肉を連動させてリリースを一定にする練習が効果的です。さらに、動作の各フェーズを分解し、鏡やビデオで自分のフォームを確認しながら修正を重ねることも大切です。練習前に身体の準備運動と呼吸法を取り入れ、集中力を高めることで、動きの安定性と継続性を促進できます。特に、トスと体幹の連動性を強化し、身体のブレを最小化することが、サーブの安定性と一貫性を大きく向上させるポイントです。",
    "user_concerns": "サーブの安定性が悪い"
  },
  "user_concerns": "サーブの安定性が悪い",
  "preprocessing": {
    "success": true,
    "duration": 0,
    "fps": 30
  },
  "pose_detection": {
    "success": true,
    "detected_frames": 88,
    "confidence_avg": 0.0
  },
  "technical_analysis": {
    "knee_movement": {
      "max_bend_angle": 1.8238935456603993,
      "max_bend_frame": 22,
      "timing_score": 8.0,
      "depth_score": 9.0,
      "overall_score": 8.5,
      "issues": [
        "膝の曲げが早すぎます",
        "膝の曲げが深すぎます"
      ],
      "recommendations": [
        "膝の曲げを少し浅くして、バランスを保ちましょう",
        "トスと同時に膝を曲げ始めるタイミングを練習しましょう"
      ]
    },
    "elbow_position": {
      "average_height": 0.5,
      "shoulder_relative_position": 0,
      "height_score": 10.0,
      "stability_score": 8.0,
      "overall_score": 9.0,
      "issues": [
        "肘の動きが不安定です"
      ],
      "recommendations": [
        "肘の軌道を安定させるため、ゆっくりとした練習から始めましょう"
      ]
    },
    "toss_trajectory": {
      "max_height": 0.9300273507833481,
      "forward_distance": 0.011236399412155151,
      "consistency_score": 0.08074449432721875,
      "height_score": 9.0,
      "distance_score": 8.0,
      "overall_score": 5.935814981090729,
      "issues": [
        "トスが高すぎます",
        "トスの前方への投げが不足しています",
        "トスの軌道が不安定です"
      ],
      "recommendations": [
        "トスの高さを少し抑えて、コントロールを向上させましょう",
        "トスをもう少し前方に投げて、効果的な打点を作りましょう"
      ]
    },
    "body_rotation": {
      "max_shoulder_rotation": 179.61159139236943,
      "max_hip_rotation": 179.70533776053387,
      "shoulder_score": 9.0,
      "hip_score": 9.0,
      "overall_score": 9.0,
      "issues": [
        "肩の回転が過度です",
        "腰の回転が過度です"
      ],
      "recommendations": [
        "肩の回転を少し抑えて、コントロールを向上させましょう"
      ]
    },
    "timing": {
      "total_duration": 4.3,
      "phase_scores": {
        "preparation": 6.0,
        "ball_toss": 10.0,
        "trophy_position": 4.0,
        "acceleration": 8.0,
        "contact": 10.0,
        "follow_through": 4.0
      },
      "overall_score": 7.0,
      "issues": [
        "trophy_positionフェーズが短すぎます",
        "follow_throughフェーズが長すぎます"
      ],
      "recommendations": [
        "各フェーズのタイミングを意識して、リズムの良いサーブを心がけましょう",
        "メトロノームを使った練習で、一定のリズムを身につけましょう"
      ]
    }
  },
  "serve_phases": {
    "preparation": {
      "start_frame": 0,
      "end_frame": 36,
      "duration": 1.2,
      "key_events": [
        "stance_setup",
        "initial_position"
      ]
    },
    "ball_toss": {
      "start_frame": 36,
      "end_frame": 61,
      "duration": 0.8333333333333334,
      "key_events": [
        "toss_initiation",
        "ball_release"
      ]
    },
    "trophy_position": {
      "start_frame": 61,
      "end_frame": 48,
      "duration": -0.43333333333333335,
      "key_events": [
        "trophy_formation",
        "weight_transfer"
      ]
    },
    "acceleration": {
      "start_frame": 48,
      "end_frame": 60,
      "duration": 0.4,
      "key_events": [
        "racket_acceleration",
        "kinetic_chain"
      ]
    },
    "contact": {
      "start_frame": 60,
      "end_frame": 63,
      "duration": 0.1,
      "key_events": [
        "ball_contact",
        "maximum_reach"
      ]
    },
    "follow_through": {
      "start_frame": 63,
      "end_frame": 128,
      "duration": 2.1666666666666665,
      "key_events": [
        "deceleration",
        "landing"
      ]
    }
  }
}