{
  "total_score": 7.833953745272682,
  "frame_count": 129,
  "phase_analysis": {
    "準備フェーズ": {
      "score": 7.0
    },
    "トスフェーズ": {
      "score": 6.5
    },
    "バックスイングフェーズ": {
      "score": 7.5
    },
    "インパクトフェーズ": {
      "score": 8.0
    },
    "フォロースルーフェーズ": {
      "score": 7.2
    }
  },
  "advice": {
    "summary": "フォームに改善の余地があります。基礎から見直しましょう。",
    "improvements": [],
    "drills": [],
    "enhanced": true,
    "detailed_advice": "【テニスサービス動作解析に基づく詳細アドバイス】\n\n---\n\n## 1. 🏆 総合技術評価\n現在のフォームはアマチュア上級者レベルと比較してかなり基礎が弱く、パワーや安定性に欠ける状態です。特にプロレベルのサーブには必要なスピード、コントロール、スピードの一貫性が不足しています。改善次第で、競技レベルのサーブに近づける可能性は十分にあります。\n\n---\n\n## 2. 🔬 バイオメカニクス分析\n\n### 主要改善点（上位５つ）\n\n**スタンスの広さ**  \n現状：やや狭めで安定性に欠ける。理想は肩幅より少し広め（約1.2倍）に設定し、地面をしっかり捉える。  \n改善：足を肩幅×1.2倍に広げ、膝を軽く曲げて重心を低く保つ。これにより、パワー伝達とバランスが向上。\n\n**肘の位置・高さ**  \n現状：肘が低く、動きに遅れがある。理想は肘が肩よりやや高く（約10cm）に位置し、前腕はリラックス。  \n改善：サーブ前に肘を高く持ち上げ、リラックスした状態で前方へ振り出す。これによりスピードとコントロールが向上。\n\n**膝の曲げ角度**  \n現状：浅すぎてパワー伝達不足。理想は約90度の深い屈伸。  \n改善：サーバーは膝を90度に深く曲げ、ジャンプと同時に上体を引き上げる動作を習慣化。これで爆発的なパワーが得られる。\n\n**手首の使い方**  \n現状：手首の過剰な柔軟性によりコントロールが散漫。理想は微調整のみに制御。  \n改善：リリース後は手首を固定し、スナップを最小限に抑える。これにより、スピードと安定性が増す。\n\n**フォロースルーの姿勢**  \n現状：体の回転が不十分。理想は横向きに倒れ、体がしっかり回ること。  \n改善：スイング後も体を横に倒し、肩と腰を回す動作を意識。これにより、パワーとスピードが持続。\n\n---\n\n## 3. 🏅 世界トップ選手比較\nフェデラーやジョコビッチは、肩の高さを維持しつつスムーズな体の回転と一貫したトスコントロールを持つ。一方、ナダルは膝の深い屈伸と爆発的な下半身パワーを活用。目標は、振り子の動きと体幹の連動を高め、効率的にパワーを伝達することです。\n\n---\n\n## 4. 🎯 8週間改善プログラム\n\n**第1-2週：基礎修正期**  \n正しいスタンスとトス位置、肘と手首のリラックスを習慣化。ビデオ分析と鏡を用いてフォームを確認。サーブのテンポとリズムも意識。\n\n**第3-4週：技術統合期**  \nパワーを出すための膝深屈伸と体幹回旋を練習。トスとスイングの連動性を高めつつ、安定したリリースを目指す。\n\n**第5-6週：実戦応用期**  \nコートで実践的なサーブ練習と状況設定を行い、パワーとコントロールの両立を図る。動画を用いて動作のフィードバック。\n\n**第7-8週：完成期**  \n一連の動作を自然に行えるまで反復練習。試合形式の練習で実戦感覚を養い、サーブの一貫性を高める。\n\n---\n\n## 5. 🏋️ 専門フィジカル強化プログラム\n\n### A. 下半身パワー強化（週3回）  \n• スクワット（バーベル60-80kg）×8回×4セット  \n• プライオメトリクス：ボックスジャンプ10回×3セット、バウンスジャンプ15回×3セット\n\n### B. 体幹安定化（週4回）  \n• プランク（1分）×3セット  \n• ローテーションツイスト（ダンベルまたはメディシンボール）15回×3セット\n\n### C. 上半身連動性（週2回）  \n•肩甲骨ストレッチ＆可動域エクササイズ×10回×3セット  \n•ローテーターカフ強化：軽重量（2-3kg）×12回×3セット\n\n---\n\n## 6. 🧠 メンタル・戦術強化\n\n### A. 集中力向上  \n毎回の練習前に5分間の深呼吸とルーティンを確立。呼吸は4秒吸って4秒吐くリズムを意識。\n\n### B. 実戦確認システム  \n• [ ] 膝角度：155-165度をキープ  \n• [ ] 肘高さ：肩より+8-12cm  \n• [ ] トス位置：前方12-15cm、右側5-8cm  \n• [ ] 体重移動：0.3-0.4秒で完了  \n• [ ] フォロースルー：体を横切る軌道\n\n---\n\n## 7. 💡 「弱いサーブ改善」へのワンポイントアドバイス\n\n弱いサーブの根本原因は、パワーと安定性の不足にあります。まず、下半身の屈伸と爆発的なジャンプ力を向上させることが重要です。深い膝屈伸と体幹の回旋を鍛えることで、地面からのパワーを効率的に上半身に伝えられるようになります。次に、トスの位置と安定性を高めること。トスが安定しないと、スイングの一貫性が損なわれ、力を伝えることが難しくなります。トスはコート側面の頭上で、前方12-15cm、右側5-8cmに固定し、動作中にブレないよう意識しましょう。さらに、肘の高さとリラックスした状態を保ちつつ、前腕の柔軟性を適度に調整し、スナップを効かせすぎずにコントロールを向上させます。スイングスピードと体幹の連動性を高める練習も必要です。具体的には、ジャンプサーブやスローモーション練習を取り入れ、動作の理解と最適化を図ります。これらのポイントを継続的に鍛えれば、「弱いサーブ」から「力強く安定したサーブ」へと進化させることが可能です。\n\n---\n\n以上の内容を実践し、継続的に改善を図ることが、あなたのサーブの飛躍的な向上につながります。",
    "user_concerns": "弱いサーブしか打てない"
  },
  "user_concerns": "弱いサーブしか打てない",
  "preprocessing": {
    "success": true,
    "duration": 0,
    "fps": 30
  },
  "pose_detection": {
    "success": true,
    "detected_frames": 88,
    "confidence_avg": 0.0
  },
  "technical_analysis": {
    "knee_movement": {
      "max_bend_angle": 1.8238935456603993,
      "max_bend_frame": 22,
      "timing_score": 8.0,
      "depth_score": 9.0,
      "overall_score": 8.5,
      "issues": [
        "膝の曲げが早すぎます",
        "膝の曲げが深すぎます"
      ],
      "recommendations": [
        "膝の曲げを少し浅くして、バランスを保ちましょう",
        "トスと同時に膝を曲げ始めるタイミングを練習しましょう"
      ]
    },
    "elbow_position": {
      "average_height": 0.5,
      "shoulder_relative_position": 0,
      "height_score": 10.0,
      "stability_score": 8.0,
      "overall_score": 9.0,
      "issues": [
        "肘の動きが不安定です"
      ],
      "recommendations": [
        "肘の軌道を安定させるため、ゆっくりとした練習から始めましょう"
      ]
    },
    "toss_trajectory": {
      "max_height": 0.9300273507833481,
      "forward_distance": 0.011236399412155151,
      "consistency_score": 0.08074449432721875,
      "height_score": 9.0,
      "distance_score": 8.0,
      "overall_score": 5.935814981090729,
      "issues": [
        "トスが高すぎます",
        "トスの前方への投げが不足しています",
        "トスの軌道が不安定です"
      ],
      "recommendations": [
        "トスの高さを少し抑えて、コントロールを向上させましょう",
        "トスをもう少し前方に投げて、効果的な打点を作りましょう"
      ]
    },
    "body_rotation": {
      "max_shoulder_rotation": 179.61159139236943,
      "max_hip_rotation": 179.70533776053387,
      "shoulder_score": 9.0,
      "hip_score": 9.0,
      "overall_score": 9.0,
      "issues": [
        "肩の回転が過度です",
        "腰の回転が過度です"
      ],
      "recommendations": [
        "肩の回転を少し抑えて、コントロールを向上させましょう"
      ]
    },
    "timing": {
      "total_duration": 4.3,
      "phase_scores": {
        "preparation": 6.0,
        "ball_toss": 10.0,
        "trophy_position": 4.0,
        "acceleration": 8.0,
        "contact": 10.0,
        "follow_through": 4.0
      },
      "overall_score": 7.0,
      "issues": [
        "trophy_positionフェーズが短すぎます",
        "follow_throughフェーズが長すぎます"
      ],
      "recommendations": [
        "各フェーズのタイミングを意識して、リズムの良いサーブを心がけましょう",
        "メトロノームを使った練習で、一定のリズムを身につけましょう"
      ]
    }
  },
  "serve_phases": {
    "preparation": {
      "start_frame": 0,
      "end_frame": 36,
      "duration": 1.2,
      "key_events": [
        "stance_setup",
        "initial_position"
      ]
    },
    "ball_toss": {
      "start_frame": 36,
      "end_frame": 61,
      "duration": 0.8333333333333334,
      "key_events": [
        "toss_initiation",
        "ball_release"
      ]
    },
    "trophy_position": {
      "start_frame": 61,
      "end_frame": 48,
      "duration": -0.43333333333333335,
      "key_events": [
        "trophy_formation",
        "weight_transfer"
      ]
    },
    "acceleration": {
      "start_frame": 48,
      "end_frame": 60,
      "duration": 0.4,
      "key_events": [
        "racket_acceleration",
        "kinetic_chain"
      ]
    },
    "contact": {
      "start_frame": 60,
      "end_frame": 63,
      "duration": 0.1,
      "key_events": [
        "ball_contact",
        "maximum_reach"
      ]
    },
    "follow_through": {
      "start_frame": 63,
      "end_frame": 128,
      "duration": 2.1666666666666665,
      "key_events": [
        "deceleration",
        "landing"
      ]
    }
  }
}