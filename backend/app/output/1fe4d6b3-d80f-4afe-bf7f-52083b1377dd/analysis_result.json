{
  "total_score": 7.887712922700212,
  "frame_count": 641,
  "phase_analysis": {
    "準備フェーズ": {
      "score": 7.0
    },
    "トスフェーズ": {
      "score": 6.5
    },
    "バックスイングフェーズ": {
      "score": 7.5
    },
    "インパクトフェーズ": {
      "score": 8.0
    },
    "フォロースルーフェーズ": {
      "score": 7.2
    }
  },
  "advice": {
    "summary": "フォームに改善の余地があります。基礎から見直しましょう。",
    "improvements": [],
    "drills": [],
    "enhanced": true,
    "detailed_advice": "## 1. 🏆 総合技術評価\n現在のレベルは、総合スコア0/10と非常に基礎的な段階です。世界基準と比較すると、基礎的フォームの改善が必要であるため、ツアーレベルには達していません。特にサーブにおけるスピンの生成が不足しているため、ラリーでの優位性を確保できていません。\n\n## 2. 🔬 バイオメカニクス分析\n### 主要改善点（上位3つ）\n1. **トスの位置**  \n   - 現在: トスが身体から離れており、理想的な位置よりも前方に落ちています。\n   - 理想: 頭部のやや右上方で、身体に近い位置。\n   - 改善方法: トスを繰り返し練習し、安定した位置でボールが落ちるように。\n\n2. **肩と腰の回転**  \n   - 現在: 回転が不足しており、前方へ力を伝えられていません。\n   - 理想: 上半身と下半身の捻転差を大きくし、エネルギーを蓄える。\n   - 改善方法: スローでのサーブ動作確認と、捻転を意識したトレーニング。\n\n3. **ラケットスイングの軌道**  \n   - 現在: ラケットが水平に近い軌道を描いています。\n   - 理想: 下から上へのスイングで、ボールにスピンを加える。\n   - 改善方法: ラケットの軌道を意識したスイング練習。\n\n## 3. 🏅 世界トップ選手比較\n- **フェデラー**: スムーズなトスと強力な上半身の捻転が特徴。\n- **ジョコビッチ**: 柔軟な肩と腰の回転で多くのスピンを生成。\n- **ナダル**: 体全体を使った力強いスピンサーブ。\n- 世界トップ選手に共通するポイントは、安定したトス、上半身と下半身の強い連動、そしてスイング軌道の正確さです。\n\n## 4. 🎯 8週間改善プログラム\n### 第1-2週: 基礎修正期\n- トスの安定化練習\n- スローでのフォーム確認\n\n### 第3-4週: 技術統合期  \n- トスとスイングの連動練習\n- 腰と肩の捻転を意識した打球練習\n\n### 第5-6週: 実戦応用期\n- サーブのスピン量測定と調整\n- 連続サーブ練習で精度向上\n\n### 第7-8週: 完成期\n- 試合形式でのサーブトライアル\n- ビデオ分析で微調整\n\n## 5. 🏋️ 専門フィジカル強化プログラム\n### A. 下半身パワー強化（週3回）\n- スクワット（バーベル、ジャンプ）\n- プライオメトリクス（ボックスジャンプ）\n\n### B. 体幹安定化（週4回）\n- プランク（サイド、フロント）\n- ロシアンツイスト\n\n### C. 上半身連動性（週2回）\n- バンドを使った肩甲骨ストレッチ\n- ローテーターカフのダイナミックストレッチ\n\n## 6. 🧠 メンタル・戦術強化\n### A. 集中力向上\n- ルーティン確立\n- 呼吸法（4-7-8法）\n\n### B. 実戦確認システム\n1. トス位置の確認\n2. 肩と腰の捻転\n3. スイング軌道\n4. スピンの感覚\n5. サーブ成功率\n\n## 7. 💡 あなたへのワンポイントアドバイス\n### 「スピンサーブが打てません」について：\n**問題の原因分析:**  \nトスの位置が不安定で、スイング軌道が水平に近いため、ボールにスピンがかからない。\n\n**具体的な改善方法:**  \nトスの位置を頭の上に安定させ、スイングの際に下から上への軌道を意識してください。肩と腰の回転を利用して、力強くボールを上に押し上げる感覚を養いましょう。\n\n**推奨練習メニューと頻度:**  \n- トス練習（毎日5分）\n- 肩と腰の捻転を意識したスイング練習（週3回）\n- スピンサーブの繰り返し練習（週2回）\n\n**改善までの期間目安:**  \n約8週間の継続練習で、サーブのスピン量に改善が見られ、試合でも効果的に使えるようになるでしょう。",
    "one_point_advice": "あなたの悩みに対する総合的なアドバイスです。\n\n1. **基礎の確認**: まずは基本的なグリップ、スタンス、トスの確認から始めましょう。\n\n2. **段階的改善**: 一度に全てを変えず、週単位で1つずつポイントを改善していきます。\n\n3. **継続的練習**: 毎日15-20分の基礎練習を継続することで、確実な改善が期待できます。\n\n**練習方法**: 基本動作の反復練習（週6回、各15分）と、月1回の動画チェックで進捗を確認してください。改善には個人差がありますが、通常4-8週間で明確な変化を実感できます。"
  },
  "user_concerns": "スピンサーブが打てません",
  "preprocessing": {
    "success": true,
    "duration": 0,
    "fps": 30
  },
  "pose_detection": {
    "success": true,
    "detected_frames": 436,
    "confidence_avg": 0.0
  },
  "technical_analysis": {
    "knee_movement": {
      "max_bend_angle": 0.37012717737876305,
      "max_bend_frame": 274,
      "timing_score": 8.0,
      "depth_score": 9.0,
      "overall_score": 8.5,
      "issues": [
        "膝の曲げが早すぎます",
        "膝の曲げが深すぎます"
      ],
      "recommendations": [
        "膝の曲げを少し浅くして、バランスを保ちましょう",
        "トスと同時に膝を曲げ始めるタイミングを練習しましょう"
      ]
    },
    "elbow_position": {
      "average_height": 0.5,
      "shoulder_relative_position": 0,
      "height_score": 10.0,
      "stability_score": 8.0,
      "overall_score": 9.0,
      "issues": [
        "肘の動きが不安定です"
      ],
      "recommendations": [
        "肘の軌道を安定させるため、ゆっくりとした練習から始めましょう"
      ]
    },
    "toss_trajectory": {
      "max_height": 1.03442969545722,
      "forward_distance": 0.06408575177192688,
      "consistency_score": 0.24525550724025447,
      "height_score": 9.0,
      "distance_score": 10.0,
      "overall_score": 7.150851690800849,
      "issues": [
        "トスが高すぎます",
        "トスの軌道が不安定です"
      ],
      "recommendations": [
        "トスの高さを少し抑えて、コントロールを向上させましょう"
      ]
    },
    "body_rotation": {
      "max_shoulder_rotation": 179.96566860313624,
      "max_hip_rotation": 179.92746447183015,
      "shoulder_score": 9.0,
      "hip_score": 9.0,
      "overall_score": 9.0,
      "issues": [
        "肩の回転が過度です",
        "腰の回転が過度です"
      ],
      "recommendations": [
        "肩の回転を少し抑えて、コントロールを向上させましょう"
      ]
    },
    "timing": {
      "total_duration": 21.366666666666667,
      "phase_scores": {
        "preparation": 4.0,
        "ball_toss": 4.0,
        "trophy_position": 4.0,
        "acceleration": 6.0,
        "contact": 10.0,
        "follow_through": 4.0
      },
      "overall_score": 5.333333333333333,
      "issues": [
        "preparationフェーズが長すぎます",
        "ball_tossフェーズが短すぎます",
        "trophy_positionフェーズが短すぎます",
        "follow_throughフェーズが長すぎます"
      ],
      "recommendations": [
        "各フェーズのタイミングを意識して、リズムの良いサーブを心がけましょう",
        "メトロノームを使った練習で、一定のリズムを身につけましょう"
      ]
    }
  },
  "serve_phases": {
    "preparation": {
      "start_frame": 0,
      "end_frame": 408,
      "duration": 13.6,
      "key_events": [
        "stance_setup",
        "initial_position"
      ]
    },
    "ball_toss": {
      "start_frame": 408,
      "end_frame": 433,
      "duration": 0.8333333333333334,
      "key_events": [
        "toss_initiation",
        "ball_release"
      ]
    },
    "trophy_position": {
      "start_frame": 433,
      "end_frame": 107,
      "duration": -10.866666666666667,
      "key_events": [
        "trophy_formation",
        "weight_transfer"
      ]
    },
    "acceleration": {
      "start_frame": 107,
      "end_frame": 119,
      "duration": 0.4,
      "key_events": [
        "racket_acceleration",
        "kinetic_chain"
      ]
    },
    "contact": {
      "start_frame": 119,
      "end_frame": 122,
      "duration": 0.1,
      "key_events": [
        "ball_contact",
        "maximum_reach"
      ]
    },
    "follow_through": {
      "start_frame": 122,
      "end_frame": 640,
      "duration": 17.266666666666666,
      "key_events": [
        "deceleration",
        "landing"
      ]
    }
  }
}