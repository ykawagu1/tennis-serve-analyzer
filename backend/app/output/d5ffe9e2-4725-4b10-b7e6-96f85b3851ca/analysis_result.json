{
  "total_score": 7.9136131054249015,
  "frame_count": 129,
  "phase_analysis": {
    "準備フェーズ": {
      "score": 7.0
    },
    "トスフェーズ": {
      "score": 6.5
    },
    "バックスイングフェーズ": {
      "score": 7.5
    },
    "インパクトフェーズ": {
      "score": 8.0
    },
    "フォロースルーフェーズ": {
      "score": 7.2
    }
  },
  "advice": {
    "summary": "フォームに改善の余地があります。基礎から見直しましょう。",
    "improvements": [],
    "drills": [],
    "enhanced": true,
    "detailed_advice": "【テニスサービス動作解析に基づく詳細アドバイス】\n\n---\n\n## 1. 🏆 総合技術評価\nあなたのサービスフォームは基本的な動きは見られるものの、トップ選手と比較すると安定性と効率性に欠け、パワーやコントロールにムラがあります。特に体の回転とタイミングのズレが目立ち、動作の一貫性向上が必要です。アマチュア上級者と比べても、動作の流れと効率性で差があります。\n\n## 2. 🔬 バイオメカニクス分析\n\n### 1. スタンスの幅\n現在は肩幅±5cm程度でやや狭く、安定性に欠ける。理想は肩幅よりやや広めの足幅（約肩幅＋5cm）で、重心を低く保ちつつ安定性を確保する。広げすぎると動きが遅れ、狭すぎるとバランスを崩すため、適度な幅を練習で調整。\n\n### 2. 肘の位置・高さ\n現在はサービス前に肘が自然に下がり、または高すぎる傾向。理想は肘をやや高く（肩より10cm高）保ち、振り上げ時に自然な軌道を描くこと。これによりスピードとコントロールが向上し、肘の過伸展や急な動きの抑制につながる。\n\n### 3. 膝の曲げ角度\n現状では膝の屈曲角度が不均一で、深すぎるまたは浅すぎる。理想は約100〜110度で、地面に対して安定的な姿勢を維持。膝の適切な屈曲により、パワー伝達と体幹の回転がスムーズになり、爆発的な動きが可能。\n\n### 4. 手首の使い方\n手首の固定が弱く、動きが不安定。理想はトスとスイング中に手首をしっかり固定し、最後のスナップ動作でしっかりとしなること。これにより、サービスのスピードと回転を最大化し、安定したコントロールを実現。\n\n### 5. フォロースルーの姿勢\n現在はフォロースルーが短く、体の横に止まる傾向がある。理想は体の側面を通る長いフォロースルーを保ち、体の捻りと回転を最大化すること。これによりパワーとスピードが向上し、次の動作への流れもスムーズに。\n\n---\n\n## 3. 🏅 世界トップ選手比較\nフェデラーやジョコビッチは、流れるような動作と安定感、体幹の強さ、タイミングの正確さが特徴。彼らは肘の高さ、回転軸の最適化、スムーズな体重移動を徹底しており、力とコントロールのバランスが優れている。到達目標は、これらの動作を自然に再現し、一貫性とパワーを向上させること。\n\n## 4. 🎯 8週間改善プログラム\n\n### 第1-2週：基礎修正期\nスタンスの幅、肘の高さ、膝の屈曲、手首の固定を意識しながら基本動作を反復練習。トスの位置と安定性に集中し、動作の一貫性を養う。体の回転とタイミングを意識して動作のリズムを整える。\n\n### 第3-4週：技術統合期\n基礎動作にパワーの動きと回転を融合させる練習。サービスのスピードとコントロールを向上させるため、連続打ちと動作の流れを意識した練習を行う。映像分析を取り入れて自己修正。\n\n### 第5-6週：実戦応用期\nコートでのシチュエーション練習とポイント練習を通じて、実践的な動作の定着を図る。動作の中でのタイミングや集中力を高め、プレッシャー下での安定性を養う。\n\n### 第7-8週：完成期\n動作の一貫性と安定性を最終調整。試合形式の練習を増やし、戦術と組み合わせてサービスの総合力を高める。本人の感覚と映像で最終確認し、自信を持って試合に臨める状態を作る。\n\n---\n\n## 5. 🏋️ 専門フィジカル強化プログラム\n\n### A. 下半身パワー強化（週3回）\n• スクワット（バーベル70kg）10回×3セット\n• プライオメトリクス（ボックスジャンプ）8回×3セット\n\n### B. 体幹安定化（週4回）\n• プランク（30秒）×3\n• ロシアンツイスト（10回×3セット）\n• バックエクステンション（15回×3セット）\n\n### C. 上半身連動性（週2回）\n•肩甲骨ストレッチ（20回×2セット）\n•ローテーターカフトレーニング（軽重量3kg）10回×3セット\n\n---\n\n## 6. 🧠 メンタル・戦術強化\n\n### A. 集中力向上\n・練習開始前に5分間の呼吸法（腹式呼吸）を行い、集中状態を作る。ルーティンはサービス前に深呼吸とストレッチを組み込む。\n\n### B. 実戦確認システム\n• [ ] 膝角度: 155-165度をキープ\n• [ ] 肘高さ: 肩より+8-12cm\n• [ ] トス位置: 前方12-15cm、右側5-8cm\n• [ ] 体重移動: 0.3-0.4秒で完了\n• [ ] フォロースルー: 横に長く通る軌道\n\nこれらを意識し、日々の練習とセルフチェックを行うことで、フォームの安定とパフォーマンス向上が期待できます。",
    "user_concerns": ""
  },
  "user_concerns": "",
  "preprocessing": {
    "success": true,
    "duration": 0,
    "fps": 30
  },
  "pose_detection": {
    "success": true,
    "detected_frames": 89,
    "confidence_avg": 0.0
  },
  "technical_analysis": {
    "knee_movement": {
      "max_bend_angle": 1.8238935456603993,
      "max_bend_frame": 22,
      "timing_score": 8.0,
      "depth_score": 9.0,
      "overall_score": 8.5,
      "issues": [
        "膝の曲げが早すぎます",
        "膝の曲げが深すぎます"
      ],
      "recommendations": [
        "膝の曲げを少し浅くして、バランスを保ちましょう",
        "トスと同時に膝を曲げ始めるタイミングを練習しましょう"
      ]
    },
    "elbow_position": {
      "average_height": 0.5,
      "shoulder_relative_position": 0,
      "height_score": 10.0,
      "stability_score": 8.0,
      "overall_score": 9.0,
      "issues": [
        "肘の動きが不安定です"
      ],
      "recommendations": [
        "肘の軌道を安定させるため、ゆっくりとした練習から始めましょう"
      ]
    },
    "toss_trajectory": {
      "max_height": 0.9300273507833481,
      "forward_distance": 0.020734041929244995,
      "consistency_score": 0.1763357265098826,
      "height_score": 9.0,
      "distance_score": 8.0,
      "overall_score": 6.254452421699608,
      "issues": [
        "トスが高すぎます",
        "トスの前方への投げが不足しています",
        "トスの軌道が不安定です"
      ],
      "recommendations": [
        "トスの高さを少し抑えて、コントロールを向上させましょう",
        "トスをもう少し前方に投げて、効果的な打点を作りましょう"
      ]
    },
    "body_rotation": {
      "max_shoulder_rotation": 179.61159139236943,
      "max_hip_rotation": 179.70533776053387,
      "shoulder_score": 9.0,
      "hip_score": 9.0,
      "overall_score": 9.0,
      "issues": [
        "肩の回転が過度です",
        "腰の回転が過度です"
      ],
      "recommendations": [
        "肩の回転を少し抑えて、コントロールを向上させましょう"
      ]
    },
    "timing": {
      "total_duration": 4.3,
      "phase_scores": {
        "preparation": 6.0,
        "ball_toss": 10.0,
        "trophy_position": 4.0,
        "acceleration": 8.0,
        "contact": 10.0,
        "follow_through": 4.0
      },
      "overall_score": 7.0,
      "issues": [
        "trophy_positionフェーズが短すぎます",
        "follow_throughフェーズが長すぎます"
      ],
      "recommendations": [
        "各フェーズのタイミングを意識して、リズムの良いサーブを心がけましょう",
        "メトロノームを使った練習で、一定のリズムを身につけましょう"
      ]
    }
  },
  "serve_phases": {
    "preparation": {
      "start_frame": 0,
      "end_frame": 37,
      "duration": 1.2333333333333334,
      "key_events": [
        "stance_setup",
        "initial_position"
      ]
    },
    "ball_toss": {
      "start_frame": 37,
      "end_frame": 62,
      "duration": 0.8333333333333334,
      "key_events": [
        "toss_initiation",
        "ball_release"
      ]
    },
    "trophy_position": {
      "start_frame": 62,
      "end_frame": 49,
      "duration": -0.43333333333333335,
      "key_events": [
        "trophy_formation",
        "weight_transfer"
      ]
    },
    "acceleration": {
      "start_frame": 49,
      "end_frame": 61,
      "duration": 0.4,
      "key_events": [
        "racket_acceleration",
        "kinetic_chain"
      ]
    },
    "contact": {
      "start_frame": 61,
      "end_frame": 64,
      "duration": 0.1,
      "key_events": [
        "ball_contact",
        "maximum_reach"
      ]
    },
    "follow_through": {
      "start_frame": 64,
      "end_frame": 128,
      "duration": 2.1333333333333333,
      "key_events": [
        "deceleration",
        "landing"
      ]
    }
  }
}