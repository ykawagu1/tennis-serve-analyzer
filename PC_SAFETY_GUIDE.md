# 🚨 バッチファイル実行後のPC挙動問題 - 解決ガイド

## ⚠️ まず安全確認

### 即座に行うべき対処
1. **タスクマネージャーを開く**: Ctrl + Shift + Esc
2. **異常なプロセスを確認**
3. **必要に応じてプロセスを終了**

## 🔍 考えられる原因

### 原因1: 大量のリソース消費
**症状**: PCが重い、ファンが回る、フリーズする
**原因**: MediaPipeやOpenCVが大量のCPU/メモリを使用

### 原因2: バックグラウンドプロセスの残存
**症状**: バッチファイルを閉じてもPCが重い
**原因**: python.exe や node.exe が残り続けている

### 原因3: ウイルス対策ソフトの反応
**症状**: 警告が出る、動作が遅くなる
**原因**: ウイルス対策ソフトがバッチファイルを疑っている

### 原因4: 無限ループやエラーの連続発生
**症状**: CPUが100%になる
**原因**: プログラムがエラーを繰り返している

## 🛡️ 安全な対処方法

### ステップ1: プロセスの確認と終了
```
1. Ctrl + Shift + Esc でタスクマネージャーを開く
2. 「詳細」タブをクリック
3. 以下のプロセスを探す：
   - python.exe
   - node.exe
   - cmd.exe
4. 異常に多い場合は「タスクの終了」をクリック
```

### ステップ2: システムリソースの確認
```
タスクマネージャーで確認：
- CPU使用率が90%以上 → 異常
- メモリ使用率が90%以上 → 異常
- ディスク使用率が100% → 異常
```

### ステップ3: 完全なクリーンアップ
```cmd
# すべてのPythonプロセスを終了
taskkill /f /im python.exe
taskkill /f /im py.exe

# すべてのNodeプロセスを終了
taskkill /f /im node.exe

# コマンドプロンプトを終了
taskkill /f /im cmd.exe
```

## 🔧 根本的な解決方法

### 解決方法1: 軽量版バッチファイルの使用
```batch
@echo off
echo Checking system safely...

REM リソース使用量を制限
set PYTHONUNBUFFERED=1

REM 安全にPythonをテスト
python --version
if %errorlevel% neq 0 (
    echo Python not found
    pause
    exit
)

echo Python is working
pause
```

### 解決方法2: 手動での段階的実行
バッチファイルを使わず、一つずつ手動で実行：
```cmd
# 1つずつ実行して様子を見る
python --version
# PCの様子を確認

pip install flask
# PCの様子を確認
```

### 解決方法3: 仮想環境の使用
```cmd
# 仮想環境を作成（システムに影響しない）
python -m venv tennis_env
tennis_env\Scripts\activate
pip install flask mediapipe opencv-python
```

## 🚨 緊急時の対処法

### PCがフリーズした場合
1. **Ctrl + Alt + Del** を押す
2. 「タスクマネージャー」を選択
3. 応答しないプログラムを終了
4. それでもダメなら **電源ボタン長押し** で強制終了

### 再起動後の確認事項
1. **スタートアップの確認**
2. **ウイルススキャンの実行**
3. **システムの復元ポイントの作成**

## 🛡️ 予防策

### 1. ウイルス対策ソフトの設定
- バッチファイルを実行前に例外リストに追加
- リアルタイム保護を一時的に無効化

### 2. システムリソースの監視
- タスクマネージャーを開いたまま実行
- CPU/メモリ使用率を監視

### 3. 段階的な実行
- 一度にすべてインストールしない
- 一つずつ確認しながら進める

## 🔍 安全性の確認

### 提供したバッチファイルの内容
```
- Pythonのバージョン確認
- 必要なライブラリのインストール
- サーバーの起動
```
**悪意のあるコードは含まれていません**

### しかし以下の理由で重くなる可能性
- MediaPipeは重いライブラリ
- OpenCVも大量のメモリを使用
- 複数のプロセスが同時実行される

## 💡 推奨する安全な方法

### 方法1: Google Colabの使用
- ブラウザ上で実行
- PCに負荷をかけない
- 無料で利用可能

### 方法2: 軽量版の作成
- 最小限の機能のみ
- リソース使用量を制限
- 段階的な実行

### 方法3: 専門家への相談
- PCの詳細な診断
- 安全な環境構築

## ❓ 現在の状況確認

以下を教えてください：
1. **どんな挙動がおかしいですか？**
   - 重い、フリーズ、エラー表示？
2. **タスクマネージャーの状況は？**
   - CPU/メモリ使用率は？
3. **ウイルス対策ソフトの反応は？**
   - 警告は出ましたか？

---

**安全第一で対処しましょう。無理をせず、問題があれば即座に中止してください。** 🛡️

